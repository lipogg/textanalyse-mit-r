<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 R Basics II: Datenstrukturen | Textanalyse mit R für die Geisteswissenschaften</title>
  <meta name="description" content="<p>This website is built using a minimal example of using the bookdown package to write a book. The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="2 R Basics II: Datenstrukturen | Textanalyse mit R für die Geisteswissenschaften" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This website is built using a minimal example of using the bookdown package to write a book. The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="lipogg/textanalyse-mit-r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 R Basics II: Datenstrukturen | Textanalyse mit R für die Geisteswissenschaften" />
  
  <meta name="twitter:description" content="<p>This website is built using a minimal example of using the bookdown package to write a book. The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-basics-i-datentypen-variablen-und-operatoren.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><img src="images/logo.png" width="260"></a></li> 

<li class="divider"></li>
<li class="chapter" data-level="" data-path=""><a href="#%C3%BCber-diesen-kurs"><i class="fa fa-check"></i>Über diesen Kurs</a></li>
<li class="chapter" data-level="" data-path="warum-r.html"><a href="warum-r.html"><i class="fa fa-check"></i>Warum R?</a>
<ul>
<li class="chapter" data-level="" data-path=""><a href="#was-ist-r-%C3%BCberhaupt"><i class="fa fa-check"></i>Was ist R überhaupt?</a></li>
<li class="chapter" data-level="" data-path="warum-r.html"><a href="warum-r.html#r-thirst-traps"><i class="fa fa-check"></i>R Thirst Traps</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="seminarplan.html"><a href="seminarplan.html"><i class="fa fa-check"></i>Seminarplan</a></li>
<li class="chapter" data-level="" data-path="lernziele.html"><a href="lernziele.html"><i class="fa fa-check"></i>Lernziele</a></li>
<li class="chapter" data-level="" data-path="organisatorisches.html"><a href="organisatorisches.html"><i class="fa fa-check"></i>Organisatorisches</a></li>
<li class="chapter" data-level="" data-path="hilfe.html"><a href="hilfe.html"><i class="fa fa-check"></i>Hilfe!!</a></li>
<li class="chapter" data-level="" data-path="installation-und-setup.html"><a href="installation-und-setup.html"><i class="fa fa-check"></i>Installation und Setup</a></li>
<li class="chapter" data-level="" data-path="orientierung-im-rstudio.html"><a href="orientierung-im-rstudio.html"><i class="fa fa-check"></i>Orientierung im RStudio</a></li>
<li class="chapter" data-level="1" data-path="r-basics-i-datentypen-variablen-und-operatoren.html"><a href="r-basics-i-datentypen-variablen-und-operatoren.html"><i class="fa fa-check"></i><b>1</b> R Basics I: Datentypen, Variablen und Operatoren</a>
<ul>
<li class="chapter" data-level="1.1" data-path="r-basics-i-datentypen-variablen-und-operatoren.html"><a href="r-basics-i-datentypen-variablen-und-operatoren.html#grundlegende-begriffe"><i class="fa fa-check"></i><b>1.1</b> Grundlegende Begriffe</a></li>
<li class="chapter" data-level="1.2" data-path="r-basics-i-datentypen-variablen-und-operatoren.html"><a href="r-basics-i-datentypen-variablen-und-operatoren.html#style-guide"><i class="fa fa-check"></i><b>1.2</b> Style Guide</a></li>
<li class="chapter" data-level="1.3" data-path="r-basics-i-datentypen-variablen-und-operatoren.html"><a href="r-basics-i-datentypen-variablen-und-operatoren.html#kommentare"><i class="fa fa-check"></i><b>1.3</b> Kommentare</a></li>
<li class="chapter" data-level="1.4" data-path="r-basics-i-datentypen-variablen-und-operatoren.html"><a href="r-basics-i-datentypen-variablen-und-operatoren.html#datentypen"><i class="fa fa-check"></i><b>1.4</b> Datentypen</a></li>
<li class="chapter" data-level="1.5" data-path="r-basics-i-datentypen-variablen-und-operatoren.html"><a href="r-basics-i-datentypen-variablen-und-operatoren.html#operatoren"><i class="fa fa-check"></i><b>1.5</b> Operatoren</a></li>
<li class="chapter" data-level="1.6" data-path="r-basics-i-datentypen-variablen-und-operatoren.html"><a href="r-basics-i-datentypen-variablen-und-operatoren.html#variablen"><i class="fa fa-check"></i><b>1.6</b> Variablen</a></li>
<li class="chapter" data-level="1.7" data-path="03-R-Basics-2.html"><a href="#operatorpr%C3%A4zedenz"><i class="fa fa-check"></i><b>1.7</b> Operatorpräzedenz</a></li>
<li class="chapter" data-level="" data-path="r-basics-i-datentypen-variablen-und-operatoren.html"><a href="r-basics-i-datentypen-variablen-und-operatoren.html#quellen"><i class="fa fa-check"></i>Quellen</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html"><i class="fa fa-check"></i><b>2</b> R Basics II: Datenstrukturen</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#grundlegende-begriffe-1"><i class="fa fa-check"></i><b>2.1</b> Grundlegende Begriffe</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#vektoren"><i class="fa fa-check"></i><b>2.2</b> Vektoren</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#vektoren-erstellen"><i class="fa fa-check"></i><b>2.2.1</b> Vektoren erstellen</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#sets-mengen"><i class="fa fa-check"></i><b>2.2.2</b> Sets (Mengen)</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#named-vectors"><i class="fa fa-check"></i><b>2.2.3</b> Named Vectors</a></li>
<li class="chapter" data-level="2.2.4" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#faktoren"><i class="fa fa-check"></i><b>2.2.4</b> Faktoren</a></li>
<li class="chapter" data-level="2.2.5" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#operationen-auf-vektoren"><i class="fa fa-check"></i><b>2.2.5</b> Operationen auf Vektoren</a></li>
<li class="chapter" data-level="2.2.6" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#vektorisierung"><i class="fa fa-check"></i><b>2.2.6</b> Vektorisierung</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#listen"><i class="fa fa-check"></i><b>2.3</b> Listen</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#listen-erstellen"><i class="fa fa-check"></i><b>2.3.1</b> Listen erstellen</a></li>
<li class="chapter" data-level="2.3.2" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#operationen-auf-listen"><i class="fa fa-check"></i><b>2.3.2</b> Operationen auf Listen</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#auf-einen-blick-vektoren-vs-benannte-vektoren-vs-faktoren-vs-listen"><i class="fa fa-check"></i><b>2.4</b> Auf einen Blick: Vektoren vs benannte Vektoren vs Faktoren vs Listen</a></li>
<li class="chapter" data-level="2.5" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#matrizen"><i class="fa fa-check"></i><b>2.5</b> Matrizen</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#operationen-auf-matrizen"><i class="fa fa-check"></i><b>2.5.1</b> Operationen auf Matrizen</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#arrays"><i class="fa fa-check"></i><b>2.6</b> Arrays</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#operationen-auf-arrays"><i class="fa fa-check"></i><b>2.6.1</b> Operationen auf Arrays</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#dataframes"><i class="fa fa-check"></i><b>2.7</b> Dataframes</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#operationen-auf-dataframes"><i class="fa fa-check"></i><b>2.7.1</b> Operationen auf Dataframes</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#auf-einen-blick-matrizen-vs-arrays-vs-dataframes"><i class="fa fa-check"></i><b>2.8</b> Auf einen Blick: Matrizen vs Arrays vs Dataframes</a></li>
<li class="chapter" data-level="2.9" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#datenstrukturen-untersuchen"><i class="fa fa-check"></i><b>2.9</b> Datenstrukturen untersuchen</a></li>
<li class="chapter" data-level="2.10" data-path="03-R-Basics-2.html"><a href="#fehlende-und-ung%C3%BCltige-werte-in-datenstrukturen"><i class="fa fa-check"></i><b>2.10</b> Fehlende und ungültige Werte in Datenstrukturen</a></li>
<li class="chapter" data-level="2.11" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#der-mitgliedschaftsoperator-in"><i class="fa fa-check"></i><b>2.11</b> Der Mitgliedschaftsoperator %in%</a></li>
<li class="chapter" data-level="2.12" data-path="03-R-Basics-2.html"><a href="#unver%C3%A4nderbarkeit-von-objekten-in-r"><i class="fa fa-check"></i><b>2.12</b> Unveränderbarkeit von Objekten in R</a></li>
<li class="chapter" data-level="" data-path="r-basics-ii-datenstrukturen.html"><a href="r-basics-ii-datenstrukturen.html#quellen-1"><i class="fa fa-check"></i>Quellen</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Textanalyse mit R für die Geisteswissenschaften</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-basics-ii-datenstrukturen" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> R Basics II: Datenstrukturen<a href="r-basics-ii-datenstrukturen.html#r-basics-ii-datenstrukturen" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Bisher haben wir Variablen als Platzhalter für Werte vom Typ character, integer, numeric oder logical genutzt. Variablen können aber auch Platzhalter für strukturierte Sammlungen von Werten sein. Datenstrukturen können anstelle von einfachen Werten auch selbst wieder Datenstrukturen enthalten. <strong>Die verschiedenen Weisen, wie Daten in R organisiert und im Speicher repräsentiert werden können, werden Datenstrukturen genannt</strong>. Solche <strong>Datenstrukturen können entweder nur Elemente vom selben Typ aufnehmen (wie z.B. Vektoren und Matrizen), oder Elemente unterschiedlichen Typs (wie z.B. Listen und Dataframes)</strong>. Wir werden in diesem Kapitel alle wichtigsten Datenstrukturen besprechen. In der Praxis werden wir aber vor allem mit Vektoren und Dataframes arbeiten.</p>
<div id="grundlegende-begriffe-1" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Grundlegende Begriffe<a href="r-basics-ii-datenstrukturen.html#grundlegende-begriffe-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<table>
<colgroup>
<col width="4%" />
<col width="6%" />
<col width="89%" />
</colgroup>
<thead>
<tr>
<th align="left">Begriff</th>
<th align="left">Englische Entsprechung</th>
<th align="left">Definition (im R-Kontext)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Element</td>
<td align="left">Element</td>
<td align="left">Wert oder anderes Objekt innnerhalb einer Datenstruktur. Datenstrukturen können selbst Elemente einer anderen Datenstruktur sein. Elemente haben einen Index und manchmal zusätzlich einen Namen (oder ‘Schlüssel’), über den auf das Element zugegriffen werden kann.</td>
</tr>
<tr>
<td align="left">Index</td>
<td align="left">Index</td>
<td align="left">Position eines Elements innerhalb einer Datenstruktur. Ein Index ist in R immer eine Zahl &gt;= 1.</td>
</tr>
<tr>
<td align="left">Indexierung</td>
<td align="left">Indexing</td>
<td align="left">Überbegriff für verschiedene Operationen, mit denen auf Elemente in einer Datenstruktur zugegriffen werden kann.</td>
</tr>
<tr>
<td align="left">Zugreifen</td>
<td align="left">Access</td>
<td align="left">Operation, bei der durch den Einsatz spezifischer Operatoren Elemente einer Datenstruktur ausgewählt, diese extrahiert oder modifiziert werden können.</td>
</tr>
<tr>
<td align="left">Vektorisierung</td>
<td align="left">Vectorization</td>
<td align="left">Mechanismus, bei dem Funktionen oder Operationen automatisch auf alle Elemente eines Vektors angewandt werden, statt auf einzelne Elemente.</td>
</tr>
<tr>
<td align="left">Dimension</td>
<td align="left">Dimension</td>
<td align="left">In Bezug auf Matrizen die Anzahl von Zeilen und Spalten (angegeben als Zeilen x Spalten). In Bezug auf Arrays allgemein die Anzahl der verschiedenen ‘Richtungen’, in denen Daten organisiert sind. Bei einem Array können das nicht nur Zeilen und Spalten sein, sondern auch ‘Schichten’ von Matrizen und andere Organisationsweisen.</td>
</tr>
</tbody>
</table>
</div>
<div id="vektoren" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Vektoren<a href="r-basics-ii-datenstrukturen.html#vektoren" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Eigentlich haben wir in der letzten Stunde schon Vektoren kennengelernt. Denn in R ist jeder einzelne Wert zugleich ein Vektor der Länge 1. <strong>Vektoren sind nämlich im Grunde Sequenzen verschiedener Werte desselben Datentyps.</strong> Die Werte innerhalb eines Vektors werden <strong>Elemente</strong> genannt. Die Elemente in einem Vektor haben eine festgelegte Reihenfolge. Jedes Element in einem Vektor hat deswegen eine Position (auch “<strong>Index</strong>” genannt) zwischen 1 und n, wobei n eine beliebige ganze Zahl &gt; 1 ist. Über den Index kann auf jedes Element einzeln zugegriffen werden oder es können mehrere Elemente gleichzeitig ausgewählt werden. Der Zugriff auf Elemente des Vektors erfolgt mithilfe von eckigen Klammern und wird im Abschnitt 2.2.4 erläutert.</p>
<p><img src="images/vektor.png" width="964" /></p>
<div id="vektoren-erstellen" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Vektoren erstellen<a href="r-basics-ii-datenstrukturen.html#vektoren-erstellen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vektoren können mithilfe von bestimmten Funktionen (lernen wir noch) erstellt werden. Wenn bei der Erstellung bekannt ist, welchen Datentyp die Elemente haben sollen, können die Funktionen <code>character()</code> oder <code>numeric()</code> zur Erstellung verwendet werden. Im Regelfall ist aber die Anzahl der Elemente und/oder deren Datentyp bei der Erstellung noch nicht bekannt. In diesem Fall wird zur <strong>Erstellung eines leeren Vektors</strong> die Funktion <code>c()</code> verwendet:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="r-basics-ii-datenstrukturen.html#cb1-1" tabindex="-1"></a><span class="co"># leeren Vektor erstellen, ohne einen bestimmten Datentyp festzulegen</span></span>
<span id="cb1-2"><a href="r-basics-ii-datenstrukturen.html#cb1-2" tabindex="-1"></a><span class="fu">c</span>() </span></code></pre></div>
<pre><code>#&gt; NULL</code></pre>
<p>Wenn ein leerer Vektor erstellt wird, wird dieser mithilfe des Werts <code>NULL</code> repräsentiert. Darauf kommen wir am Ende der Sitzung noch einmal zurück.</p>
<p>Mithilfe der Funktion <code>c()</code> können auch <strong>Vektoren aus bereits bekannten Elementen</strong> erstellt werden:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="r-basics-ii-datenstrukturen.html#cb3-1" tabindex="-1"></a><span class="co"># Vektor aus einer Zahlsequenz erstellen</span></span>
<span id="cb3-2"><a href="r-basics-ii-datenstrukturen.html#cb3-2" tabindex="-1"></a>zahlen <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb3-3"><a href="r-basics-ii-datenstrukturen.html#cb3-3" tabindex="-1"></a><span class="fu">print</span>(zahlen)</span></code></pre></div>
<pre><code>#&gt; [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="r-basics-ii-datenstrukturen.html#cb5-1" tabindex="-1"></a><span class="co"># Vektoren mit selbst gewählten Elementen erstellen </span></span>
<span id="cb5-2"><a href="r-basics-ii-datenstrukturen.html#cb5-2" tabindex="-1"></a>leckere_fruechte <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>)</span>
<span id="cb5-3"><a href="r-basics-ii-datenstrukturen.html#cb5-3" tabindex="-1"></a>coole_zahlen <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">45</span>, <span class="dv">7</span>, <span class="dv">420</span>)</span></code></pre></div>
<p>Vektoren können auch durch <strong>Zusammenfügen zweier bestehender Vektoren</strong> erstellt werden. Wenn die Funktion <code>c()</code> auf zwei Vektoren oder einen Vektor und ein Element angewandt wird, dann werden die beiden Vektoren in der angegebenen Reihenfolge in einen neuen Vektor kombiniert:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="r-basics-ii-datenstrukturen.html#cb6-1" tabindex="-1"></a><span class="co"># Vektoren kombinieren mithilfe der Funktion c()</span></span>
<span id="cb6-2"><a href="r-basics-ii-datenstrukturen.html#cb6-2" tabindex="-1"></a>fruechte_und_zahlen <span class="ot">&lt;-</span> <span class="fu">c</span>(leckere_fruechte, coole_zahlen) </span>
<span id="cb6-3"><a href="r-basics-ii-datenstrukturen.html#cb6-3" tabindex="-1"></a><span class="co"># Vektor auf dem Bildschirm ausgeben</span></span>
<span id="cb6-4"><a href="r-basics-ii-datenstrukturen.html#cb6-4" tabindex="-1"></a><span class="fu">print</span>(fruechte_und_zahlen)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;    &quot;Banane&quot;   &quot;Erdbeere&quot; &quot;45&quot;       &quot;7&quot;        &quot;420&quot;</code></pre>
<p>Achtung: Bei der Erstellung von Vektoren muss beachtet werden, dass der Typ der Elemente automatisch vereinhetilicht wird, wenn Elemente mit unterschiedlichen Datentypen in einen Vektor kombiniert werden:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="r-basics-ii-datenstrukturen.html#cb8-1" tabindex="-1"></a>vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;hallo&quot;</span>, <span class="st">&quot;1&quot;</span>)</span>
<span id="cb8-2"><a href="r-basics-ii-datenstrukturen.html#cb8-2" tabindex="-1"></a>vec <span class="ot">&lt;-</span> <span class="fu">c</span>(vec, <span class="dv">3</span>)</span>
<span id="cb8-3"><a href="r-basics-ii-datenstrukturen.html#cb8-3" tabindex="-1"></a><span class="co"># double wird zu character</span></span>
<span id="cb8-4"><a href="r-basics-ii-datenstrukturen.html#cb8-4" tabindex="-1"></a><span class="fu">typeof</span>(vec)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="r-basics-ii-datenstrukturen.html#cb10-1" tabindex="-1"></a><span class="co"># bool wird zu double</span></span>
<span id="cb10-2"><a href="r-basics-ii-datenstrukturen.html#cb10-2" tabindex="-1"></a>vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="cn">TRUE</span>)</span>
<span id="cb10-3"><a href="r-basics-ii-datenstrukturen.html#cb10-3" tabindex="-1"></a><span class="fu">typeof</span>(vec)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;double&quot;</code></pre>
<p>Nur, wenn ein Element des Vektors eine Liste ist, gilt dieses Prinzip nicht. Darauf kommen wir im Abschnitt “Listen” noch einmal zurück.</p>
<p>Während es jeden Index nur einmal gibt, können sich die Werte in einem Vektor wiederholen:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="r-basics-ii-datenstrukturen.html#cb12-1" tabindex="-1"></a>fruechte <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Orange&quot;</span>)</span></code></pre></div>
<p>In diesem Vektor gibt es den Wert “Apfel” zwar zweimal, aber die Werte haben verschiedene Indexpositionen (1 bzw. 2).</p>
</div>
<div id="sets-mengen" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Sets (Mengen)<a href="r-basics-ii-datenstrukturen.html#sets-mengen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In anderen Programmiersprachen (bspw. Python) gibt es eine Datenstruktur, die oft Set (Menge) genannt wird. Sets (Mengen) sind dadurch ausgezeichnet, dass alle Werte einzigartig sind. <strong>In R gibt es keine eigenständige Datenstruktur für Mengen. Dennoch ist es möglich und oft nützlich, in R mit Sammlungen von einzigartigen Werten zu arbeiten und Mengenoperationen durchzuführen.</strong> In R können Mengen aus Vektoren erstellt werden, indem die einzigartigen Werte eines Vektors oder mehrerer Vektoren extrahiert werden:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="r-basics-ii-datenstrukturen.html#cb13-1" tabindex="-1"></a><span class="co"># Einzigartige Werte eines Vektors ausgeben lassen</span></span>
<span id="cb13-2"><a href="r-basics-ii-datenstrukturen.html#cb13-2" tabindex="-1"></a><span class="fu">unique</span>(<span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Apfel&quot;</span>)) </span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;    &quot;Banane&quot;   &quot;Erdbeere&quot;</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="r-basics-ii-datenstrukturen.html#cb15-1" tabindex="-1"></a><span class="co"># Vereinigung von zwei Vektoren: </span></span>
<span id="cb15-2"><a href="r-basics-ii-datenstrukturen.html#cb15-2" tabindex="-1"></a><span class="fu">union</span>(<span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Apfel&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;Kiwi&quot;</span>, <span class="st">&quot;Grapefruit&quot;</span>))</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;      &quot;Banane&quot;     &quot;Erdbeere&quot;   &quot;Kiwi&quot;       &quot;Grapefruit&quot;</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="r-basics-ii-datenstrukturen.html#cb17-1" tabindex="-1"></a><span class="co"># Schnittmenge von zwei Vektoren: </span></span>
<span id="cb17-2"><a href="r-basics-ii-datenstrukturen.html#cb17-2" tabindex="-1"></a><span class="fu">intersect</span>(<span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Banane&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Apfel&quot;</span>))</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="r-basics-ii-datenstrukturen.html#cb19-1" tabindex="-1"></a><span class="co"># Differenz zwischen zwei Vektoren: Elemente erhalten, die im ersten Vektor, aber nicht im zweiten Vektor vorkommen. </span></span>
<span id="cb19-2"><a href="r-basics-ii-datenstrukturen.html#cb19-2" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Banane&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Apfel&quot;</span>))</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Banane&quot;</code></pre>
</div>
<div id="named-vectors" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Named Vectors<a href="r-basics-ii-datenstrukturen.html#named-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Neben den “einfachen” Vektoren gibt es noch sogenannte <strong>benannte Vektoren</strong> oder <strong>named vectors</strong>. <strong>Das sind Vektoren, bei dem jedem Element nicht nur eine Indexposition, sondern auch ein Name zugeordnet ist.</strong></p>
<p><img src="images/named_vector.png" width="964" /></p>
<p>Um einen named vector zu erstellen, wird ebenfalls die Funktion <code>c()</code> verwendet. Den Elementen wird bei der Erstellung des Vektors aber ein Name (oder “Schlüssel”) zugeordnet. Dieser muss ein character sein. Beachtet, dass bei der Zuweisung von Namen innerhalb von Funktionen anstelle des Zuweisungsoperators <code>&lt;-</code> der Operator <code>=</code> verwendet wird:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="r-basics-ii-datenstrukturen.html#cb21-1" tabindex="-1"></a><span class="co"># Erstellung eines named vectors: Schlüssel sind immer Zeichenketten </span></span>
<span id="cb21-2"><a href="r-basics-ii-datenstrukturen.html#cb21-2" tabindex="-1"></a>einkauf <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span><span class="ot">=</span><span class="dv">4</span>, <span class="st">&quot;Banane&quot;</span><span class="ot">=</span><span class="dv">3</span>, <span class="st">&quot;Erdbeere&quot;</span><span class="ot">=</span><span class="dv">20</span>)</span>
<span id="cb21-3"><a href="r-basics-ii-datenstrukturen.html#cb21-3" tabindex="-1"></a><span class="co"># ...selbst dann, wenn ihr Wörter ohne Anführungszeichen eingebt, weiß R, dass eine Zeichenkette gemeint ist: </span></span>
<span id="cb21-4"><a href="r-basics-ii-datenstrukturen.html#cb21-4" tabindex="-1"></a>einkauf <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">Apfel=</span><span class="dv">4</span>, <span class="at">Banane=</span><span class="dv">3</span>, <span class="at">Erdbeere=</span><span class="dv">20</span>)</span>
<span id="cb21-5"><a href="r-basics-ii-datenstrukturen.html#cb21-5" tabindex="-1"></a><span class="co"># Das geht allerdings nicht, wenn ihr Zahlen als Schlüssel eingebt! </span></span>
<span id="cb21-6"><a href="r-basics-ii-datenstrukturen.html#cb21-6" tabindex="-1"></a><span class="co"># einkauf &lt;- c(1=4, 2=3, 3=20)</span></span></code></pre></div>
</div>
<div id="faktoren" class="section level3 hasAnchor" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> Faktoren<a href="r-basics-ii-datenstrukturen.html#faktoren" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Da R ursprünglich für die Statistik entwickelt wurde, haben sich die Entwickler:innen der Programmiersprache überlegt, dass es praktisch wäre, wenn es eine Datenstruktur speziell für kategorische (auch “kategoriale”) Daten gäbe. Kategorische Daten sind Daten, die in bestimmte Kategorien oder Gruppen fallen, also beispielsweise Farben, Regionen, Beschäftigungsstatus. Speziell zur Organisation solcher Daten gibt es in R Faktoren. <strong>Ein Faktor ist eine spezielle Art von Vektor, der kategorische Daten repräsentiert. Es handelt sich dabei eigentlich um einen “einfachen” Vektor, dem eine zusätzliche Metainformation hinzugefügt wurde: die Information, welche verschiedenen Arten oder Kategorien von Werten der Vektor enthält (=“Levels”).</strong></p>
<p><img src="images/factor.png" width="968" /></p>
<p>Im Beispiel oben hat der Vektor vier Elemente, aber nur drei verschiedene Elemente, nämlich “Apfel”, “Banane” und “Erdbeere”. Die Levels entsprechen also im Grunde genau den einzigartigen Werten eines Vektors, die wir im Abschnitt zu Sets (Mengen) mithilfe der Funktion <code>unique(c("Apfel", "Banane", "Erdbeere", "Apfel"))</code> erhalten haben. Faktoren erlauben also, sowohl die ursprünglichen, möglicherweise wiederholt vorkommenden Werte als auch die einzigartigen Werte in einem Vektor zu repräsentieren.</p>
<p>Faktoren werden mithilfe der Funktion <code>factor()</code> erstellt. <strong>Faktoren werden stets aus bereits existierenden Vektoren erstellt</strong>, beispielsweise aus dem Vektor <code>fruechte</code>, den wir hier noch einmal neu erstellen:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="r-basics-ii-datenstrukturen.html#cb22-1" tabindex="-1"></a>fruechte <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Apfel&quot;</span>)</span>
<span id="cb22-2"><a href="r-basics-ii-datenstrukturen.html#cb22-2" tabindex="-1"></a></span>
<span id="cb22-3"><a href="r-basics-ii-datenstrukturen.html#cb22-3" tabindex="-1"></a><span class="fu">factor</span>(fruechte)</span></code></pre></div>
<pre><code>#&gt; [1] Apfel    Banane   Erdbeere Apfel   
#&gt; Levels: Apfel Banane Erdbeere</code></pre>
<p>In der Praxis werden wir nicht häufig Faktoren selbst erstellen. Trotzdem solltet ihr zumindest von Faktoren gehört haben. Denn Faktoren werden in R häufig automatisch “unter der Motorhaube” beim Anwenden vieler Funktionen erstellt. Ein Beispiel dafür besprechen wir im nächsten Abschnitt. Faktoren vereinfachen viele Operationen und Berechnungen und sind einer der Gründe dafür, warum sich R von anderen Programmiersprachen unterscheidet. Deswegen sind Faktoren zum Verständnis von R und von manchen Funktionen wichtig, auch, wenn wir selbst damit nicht häufig arbeiten.</p>
</div>
<div id="operationen-auf-vektoren" class="section level3 hasAnchor" number="2.2.5">
<h3><span class="header-section-number">2.2.5</span> Operationen auf Vektoren<a href="r-basics-ii-datenstrukturen.html#operationen-auf-vektoren" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Wir haben gesehen, dass alle Vektoren, egal ob einfache Vektoren, benannte Vektoren oder Faktoren, Elemente in einer festgelegten Reihenfolge enthalten, Wir haben auch gesehen, dass jedes Element einen Index hat, also eine Zahl, welche die Position des Elements in dem Vektor beschreibt. Um auf ein oder mehrere Elemente in einem Vektor zuzugreifen, wird der <strong>Zugriffsoperator</strong> [] verwendet. Diesen Operator tauchte in der letzten Woche bereits in der Tabelle im Abschnitt “Operatorpräzedenz” auf. In die eckigen Klammern wird der Index oder, bei benannten Vektoren, der Name des ausgewählten Elements geschrieben. Als Beispiel für den Zugriff über den Index sehen wir uns einige Zugriffsoperationen auf den Vektor <code>fruechte</code> an, den wir hier erneut erstellen:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="r-basics-ii-datenstrukturen.html#cb24-1" tabindex="-1"></a>fruechte <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Apfel&quot;</span>)</span>
<span id="cb24-2"><a href="r-basics-ii-datenstrukturen.html#cb24-2" tabindex="-1"></a></span>
<span id="cb24-3"><a href="r-basics-ii-datenstrukturen.html#cb24-3" tabindex="-1"></a><span class="co"># Zugriff auf das erste Element des Vektors leckere_fruechte über den Index</span></span>
<span id="cb24-4"><a href="r-basics-ii-datenstrukturen.html#cb24-4" tabindex="-1"></a>fruechte[<span class="dv">1</span>] </span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="r-basics-ii-datenstrukturen.html#cb26-1" tabindex="-1"></a><span class="co"># Zugriff auf Elemente 1-3</span></span>
<span id="cb26-2"><a href="r-basics-ii-datenstrukturen.html#cb26-2" tabindex="-1"></a>fruechte[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] </span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;    &quot;Banane&quot;   &quot;Erdbeere&quot;</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="r-basics-ii-datenstrukturen.html#cb28-1" tabindex="-1"></a><span class="co"># Zugriff auf Elemente 1 und 3</span></span>
<span id="cb28-2"><a href="r-basics-ii-datenstrukturen.html#cb28-2" tabindex="-1"></a>fruechte[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] </span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;    &quot;Erdbeere&quot;</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="r-basics-ii-datenstrukturen.html#cb30-1" tabindex="-1"></a><span class="co"># Zugriff auf alle Elemente mit dem Wert &quot;Banane&quot;</span></span>
<span id="cb30-2"><a href="r-basics-ii-datenstrukturen.html#cb30-2" tabindex="-1"></a>fruechte[fruechte <span class="sc">==</span> <span class="st">&quot;Banane&quot;</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Banane&quot;</code></pre>
<p>Die Zugriffsoperation <code>fruechte[fruechte == "Banane"]</code> bedarf vielleicht einer kurzen Erläuterung. Wie funktioniert diese Operation? Warum werden nur die Elemente ausgegeben, deren Wert “Banane” ist?</p>
<p>Zunächst wird der Ausdruck in den eckigen Klammern evaluiert, <code>fruechte == "Banane"</code>. Dabei wird ein Mechanismus aktiviert, der sich Vektorisierung nennt (s. nächster Abschnitt): Beim Auswerten des Ausdrucks <code>fruechte == "Banane"</code> wird einzeln für jedes Element überprüft, ob dieses Element dem Wert “Banane” entspricht. Der Ausdruck wird also zu einem Vektor aus Wahrheitswerten ausgewertet wird und nicht zu einem einzelnen Wahrheitswert wie in den Beispielen aus der letzten Woche. Wenn im Vektor <code>fruechte</code> der Wert “Banane” steht, steht in diesem Vektor <code>TRUE</code> und sonst <code>FALSE</code>. Danach wird die eigentliche Zugriffsoperation ausgeführt, allerdings mit dem logischen Vektor anstelle der Indizes: <code>fruechte[c(FALSE, TRUE, FALSE, FALSE)]</code>. Bei einer solchen Zugriffsoperation werden alle Elemente ausgegeben, für die in dem logischen Vektor <code>TRUE</code> steht. Eine Zugriffsoperation der Art <code>fruechte == "Banane"</code>, wird deswegen auch <strong>bedingter Zugriff</strong> genannt. Anstelle des logischen Operators == kann hier auch ein anderer logischer Operator oder ein Vergleichsoperator stehen.</p>
<p>Elemente in einem Vektor können auch <strong>ausgetauscht, hinzugefügt oder entfernt</strong> werden:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="r-basics-ii-datenstrukturen.html#cb32-1" tabindex="-1"></a><span class="co"># Element an Indexposition 1 austauschen</span></span>
<span id="cb32-2"><a href="r-basics-ii-datenstrukturen.html#cb32-2" tabindex="-1"></a>fruechte[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Orange&quot;</span></span>
<span id="cb32-3"><a href="r-basics-ii-datenstrukturen.html#cb32-3" tabindex="-1"></a></span>
<span id="cb32-4"><a href="r-basics-ii-datenstrukturen.html#cb32-4" tabindex="-1"></a><span class="co"># Neues Element an Indexposition 5 hinzufügen</span></span>
<span id="cb32-5"><a href="r-basics-ii-datenstrukturen.html#cb32-5" tabindex="-1"></a>fruechte[<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Birne&quot;</span></span>
<span id="cb32-6"><a href="r-basics-ii-datenstrukturen.html#cb32-6" tabindex="-1"></a></span>
<span id="cb32-7"><a href="r-basics-ii-datenstrukturen.html#cb32-7" tabindex="-1"></a><span class="co"># Neues Element am Ende des Vektors hinzufügen</span></span>
<span id="cb32-8"><a href="r-basics-ii-datenstrukturen.html#cb32-8" tabindex="-1"></a>fruechte <span class="ot">&lt;-</span> <span class="fu">c</span>(fruechte, <span class="st">&quot;Melone&quot;</span>)</span>
<span id="cb32-9"><a href="r-basics-ii-datenstrukturen.html#cb32-9" tabindex="-1"></a></span>
<span id="cb32-10"><a href="r-basics-ii-datenstrukturen.html#cb32-10" tabindex="-1"></a><span class="co"># Neues Element am Anfang des Vektors hinzufügen</span></span>
<span id="cb32-11"><a href="r-basics-ii-datenstrukturen.html#cb32-11" tabindex="-1"></a>fruechte <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Traube&quot;</span>, fruechte)</span>
<span id="cb32-12"><a href="r-basics-ii-datenstrukturen.html#cb32-12" tabindex="-1"></a></span>
<span id="cb32-13"><a href="r-basics-ii-datenstrukturen.html#cb32-13" tabindex="-1"></a><span class="co"># Element an Indexposition 1 entfernen</span></span>
<span id="cb32-14"><a href="r-basics-ii-datenstrukturen.html#cb32-14" tabindex="-1"></a>fruechte[<span class="sc">-</span><span class="dv">1</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Orange&quot;   &quot;Banane&quot;   &quot;Erdbeere&quot; &quot;Apfel&quot;    &quot;Birne&quot;    &quot;Melone&quot;</code></pre>
<p>Elemente können auch direkt einer neuen Variable zugewiesen werden:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="r-basics-ii-datenstrukturen.html#cb34-1" tabindex="-1"></a>erste_frucht <span class="ot">&lt;-</span> fruechte[<span class="dv">1</span>] </span>
<span id="cb34-2"><a href="r-basics-ii-datenstrukturen.html#cb34-2" tabindex="-1"></a><span class="fu">print</span>(erste_frucht)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Traube&quot;</code></pre>
<p>Um sich die <strong>Anzahl der Werte in einem Vektor</strong> (also dessen “Länge”) ausgeben zu lassen, kann die Funktion <code>length()</code> verwendet werden:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="r-basics-ii-datenstrukturen.html#cb36-1" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Apfel&quot;</span>))</span></code></pre></div>
<pre><code>#&gt; [1] 4</code></pre>
<p>Die Funktion <code>length()</code> kann mit der Funktion <code>unique()</code> kombiniert werden, um die <strong>Anzahl der einzigartigen Werte in einem Vektor</strong> auszugeben:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="r-basics-ii-datenstrukturen.html#cb38-1" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(<span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Apfel&quot;</span>)))</span></code></pre></div>
<pre><code>#&gt; [1] 3</code></pre>
<p>Um auf die <strong>Elemente eines benannten Vektors</strong> zuzugreifen, kann entweder der Index oder der Name des Elements verwendet werden:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="r-basics-ii-datenstrukturen.html#cb40-1" tabindex="-1"></a>einkauf <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span><span class="ot">=</span><span class="dv">4</span>, <span class="st">&quot;Banane&quot;</span><span class="ot">=</span><span class="dv">3</span>, <span class="st">&quot;Erdbeere&quot;</span><span class="ot">=</span><span class="dv">20</span>, <span class="st">&quot;Apfel&quot;</span><span class="ot">=</span><span class="dv">5</span>)</span>
<span id="cb40-2"><a href="r-basics-ii-datenstrukturen.html#cb40-2" tabindex="-1"></a></span>
<span id="cb40-3"><a href="r-basics-ii-datenstrukturen.html#cb40-3" tabindex="-1"></a><span class="co"># Zugriff auf das Element mit dem Namen &quot;Erdbeere&quot;: Hier müssen die Anführungszeichen wieder explizit angegeben werden (zur Erinnerung: Schlüssel sind immer character!)</span></span>
<span id="cb40-4"><a href="r-basics-ii-datenstrukturen.html#cb40-4" tabindex="-1"></a>einkauf[<span class="st">&quot;Erdbeere&quot;</span>]</span></code></pre></div>
<pre><code>#&gt; Erdbeere 
#&gt;       20</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="r-basics-ii-datenstrukturen.html#cb42-1" tabindex="-1"></a><span class="co"># Zugriff auf den Wert ohne den Namen</span></span>
<span id="cb42-2"><a href="r-basics-ii-datenstrukturen.html#cb42-2" tabindex="-1"></a>einkauf[[<span class="st">&quot;Erdbeere&quot;</span>]]</span></code></pre></div>
<pre><code>#&gt; [1] 20</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="r-basics-ii-datenstrukturen.html#cb44-1" tabindex="-1"></a><span class="co"># Zugriff auf alle Elemente mit dem Namen &quot;Apfel&quot;: </span></span>
<span id="cb44-2"><a href="r-basics-ii-datenstrukturen.html#cb44-2" tabindex="-1"></a>einkauf[<span class="st">&quot;Apfel&quot;</span>]</span></code></pre></div>
<pre><code>#&gt; Apfel 
#&gt;     4</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="r-basics-ii-datenstrukturen.html#cb46-1" tabindex="-1"></a><span class="co"># Zugriff auf mehrere Elemente</span></span>
<span id="cb46-2"><a href="r-basics-ii-datenstrukturen.html#cb46-2" tabindex="-1"></a>einkauf[<span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>)]</span></code></pre></div>
<pre><code>#&gt;    Apfel Erdbeere 
#&gt;        4       20</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="r-basics-ii-datenstrukturen.html#cb48-1" tabindex="-1"></a><span class="co"># Wert (!) des Elements mit dem Namen &quot;Banane&quot; austauschen</span></span>
<span id="cb48-2"><a href="r-basics-ii-datenstrukturen.html#cb48-2" tabindex="-1"></a>einkauf[<span class="st">&quot;Banane&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb48-3"><a href="r-basics-ii-datenstrukturen.html#cb48-3" tabindex="-1"></a></span>
<span id="cb48-4"><a href="r-basics-ii-datenstrukturen.html#cb48-4" tabindex="-1"></a><span class="co"># Neues Element mit dem Namen &quot;Birne&quot; hinzufügen</span></span>
<span id="cb48-5"><a href="r-basics-ii-datenstrukturen.html#cb48-5" tabindex="-1"></a>einkauf[<span class="st">&quot;Birne&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb48-6"><a href="r-basics-ii-datenstrukturen.html#cb48-6" tabindex="-1"></a></span>
<span id="cb48-7"><a href="r-basics-ii-datenstrukturen.html#cb48-7" tabindex="-1"></a><span class="co"># Neues Element am Ende des Vektors hinzufügen</span></span>
<span id="cb48-8"><a href="r-basics-ii-datenstrukturen.html#cb48-8" tabindex="-1"></a>einkauf <span class="ot">&lt;-</span> <span class="fu">c</span>(einkauf, <span class="at">Melone=</span><span class="dv">1</span>)</span>
<span id="cb48-9"><a href="r-basics-ii-datenstrukturen.html#cb48-9" tabindex="-1"></a></span>
<span id="cb48-10"><a href="r-basics-ii-datenstrukturen.html#cb48-10" tabindex="-1"></a><span class="co"># Neues Element am Anfang des Vektors hinzufügen</span></span>
<span id="cb48-11"><a href="r-basics-ii-datenstrukturen.html#cb48-11" tabindex="-1"></a>einkauf <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">Traube=</span><span class="dv">12</span>, einkauf)</span>
<span id="cb48-12"><a href="r-basics-ii-datenstrukturen.html#cb48-12" tabindex="-1"></a></span>
<span id="cb48-13"><a href="r-basics-ii-datenstrukturen.html#cb48-13" tabindex="-1"></a><span class="co"># Element mit dem Namen &quot;Birne&quot; entfernen: </span></span>
<span id="cb48-14"><a href="r-basics-ii-datenstrukturen.html#cb48-14" tabindex="-1"></a>einkauf <span class="ot">&lt;-</span> einkauf[<span class="sc">!</span>(<span class="fu">names</span>(einkauf) <span class="sc">==</span> <span class="st">&quot;Birne&quot;</span>)]</span>
<span id="cb48-15"><a href="r-basics-ii-datenstrukturen.html#cb48-15" tabindex="-1"></a>einkauf</span></code></pre></div>
<pre><code>#&gt;   Traube    Apfel   Banane Erdbeere    Apfel   Melone 
#&gt;       12        4        5       20        5        1</code></pre>
<p>Um nur auf die <strong>Level, also die verschiedenen Arten von Werten in einem Faktor</strong> zuzugreifen, wird die Funktion <code>levels()</code> verwendet:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="r-basics-ii-datenstrukturen.html#cb50-1" tabindex="-1"></a>fruechte <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Apfel&quot;</span>)</span>
<span id="cb50-2"><a href="r-basics-ii-datenstrukturen.html#cb50-2" tabindex="-1"></a>fruechte_fct <span class="ot">&lt;-</span> <span class="fu">factor</span>(fruechte)</span>
<span id="cb50-3"><a href="r-basics-ii-datenstrukturen.html#cb50-3" tabindex="-1"></a><span class="fu">levels</span>(fruechte_fct)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;    &quot;Banane&quot;   &quot;Erdbeere&quot;</code></pre>
<p>Wir haben bereits gesehen, dass die Funktion <code>length()</code> mit der Funktion <code>unique()</code> kombiniert werden kann, um sich die Anzahl der einzigartigen Werte in einem Vektor ausgeben zu lassen. Aber wenn man herausfinden möchte, wie oft jeder Wert jeweils vorkommt, dann ist das mithilfe der <code>unique()</code> Funktion kompliziert:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="r-basics-ii-datenstrukturen.html#cb52-1" tabindex="-1"></a><span class="co"># Diesen Code müsst ihr nicht verstehen, er dient nur, um die Komplexität zu illustrieren</span></span>
<span id="cb52-2"><a href="r-basics-ii-datenstrukturen.html#cb52-2" tabindex="-1"></a>haeufigkeiten <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">unique</span>(fruechte), <span class="cf">function</span>(x) <span class="fu">sum</span>(fruechte <span class="sc">==</span> x))</span>
<span id="cb52-3"><a href="r-basics-ii-datenstrukturen.html#cb52-3" tabindex="-1"></a>haeufigkeiten</span></code></pre></div>
<pre><code>#&gt;    Apfel   Banane Erdbeere 
#&gt;        2        1        1</code></pre>
<p>Mithilfe von Faktoren können wir viel einfacher herausfinden, wie oft jeder Wert vorkommt, und zwar mithilfe der Funktion <code>table()</code>:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="r-basics-ii-datenstrukturen.html#cb54-1" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">factor</span>(fruechte)) </span></code></pre></div>
<pre><code>#&gt; 
#&gt;    Apfel   Banane Erdbeere 
#&gt;        2        1        1</code></pre>
<p>Tatsächlich wandelt die Funktion <code>table()</code> automatisch den Vektor in einen Faktor um. Wenn wir herausfinden wollen, <strong>wie oft jeder Wert in einem Vektor vorkommt</strong>, dann brauchen wir also nicht unbedingt erst den Vektor in einen Faktor umwandeln. Wir können die <code>table()</code>-Funktion direkt auf den Vektor anwenden:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="r-basics-ii-datenstrukturen.html#cb56-1" tabindex="-1"></a><span class="fu">table</span>(fruechte) </span></code></pre></div>
<pre><code>#&gt; fruechte
#&gt;    Apfel   Banane Erdbeere 
#&gt;        2        1        1</code></pre>
<p>Wie wir gesehen haben, greift die Funktion <code>table()</code> unter der Motorhaube auf Faktoren zurück und wandeln einen Vektor automatisch in einen Faktor um.</p>
<div class="task">
<p>Verständnisfragen:</p>
<ul>
<li>Wie viele Elemente hat der Vektor <code>fruechte</code>?</li>
<li>Wie kann das Element <code>"Orange"</code> aus dem Vektor <code>fruechte</code> entfernt werden? An welcher Indexposition steht es jetzt?</li>
<li>Sind einzelne Zahlen oder Zeichenketten in R auch Datenstrukturen? Wenn ja, welche?</li>
<li>Zu welchem Wahrheitswert wird der Ausdruck <code>c(2) == 2</code> evaluiert? Warum?</li>
<li>Wie kann auf alle Elemente mit dem Wert <code>3</code> im Vektor <code>einkauf</code> zugegriffen werden?</li>
</ul>
</div>
</div>
<div id="vektorisierung" class="section level3 hasAnchor" number="2.2.6">
<h3><span class="header-section-number">2.2.6</span> Vektorisierung<a href="r-basics-ii-datenstrukturen.html#vektorisierung" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Im Abschnitt “Operationen auf Vektoren” habt ihr bereits gesehen, dass die bereits bekannten Operatoren wie <code>==</code>, <code>&gt;</code> oder <code>+</code> auch auf Vektoren angewendet werden können. Wenn Operatoren auf Vektoren angewandt werden, wird die Operation automatisch elementweise auf jedes Element des Vektors angewandt. Dieser Mechanismus nennt sich <strong>Vektorisierung</strong>. Wir werden in der Sitzung zu Funktionen noch einmal darauf zurückkommen. Wichtig ist dabei zu beachten, dass beide Vektoren die gleiche Länge haben müssen.</p>
<p>Auf Vektoren vom Typ numeric oder integer (also Vektoren, deren Elemente alle numerics oder integers sind) können die arithmetischen Operatoren angewandt werden, zum Beispiel:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="r-basics-ii-datenstrukturen.html#cb58-1" tabindex="-1"></a>vec_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb58-2"><a href="r-basics-ii-datenstrukturen.html#cb58-2" tabindex="-1"></a>vec_2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb58-3"><a href="r-basics-ii-datenstrukturen.html#cb58-3" tabindex="-1"></a>vec_1 <span class="sc">+</span> vec_2</span></code></pre></div>
<pre><code>#&gt; [1] 4 7 9</code></pre>
<p>Wird ein Vektor nicht mit einem anderen Vektor, sondern mit einem einzelnen Wert addiert (oder subtrahiert, dividiert, … ), dann wird jedes Element des Vektors mit diesem Wert verrechnet:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="r-basics-ii-datenstrukturen.html#cb60-1" tabindex="-1"></a>vec_1 <span class="sc">+</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>#&gt; [1] 6 7 8</code></pre>
<p>Daneben können auch Vergleichsoperatoren und logische Operatoren auf Vektoren angewandt werden, und es können sogar zwei Vektoren elementweise verglichen werden:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="r-basics-ii-datenstrukturen.html#cb62-1" tabindex="-1"></a>vec_1 <span class="sc">==</span> vec_2</span></code></pre></div>
<pre><code>#&gt; [1] FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="r-basics-ii-datenstrukturen.html#cb64-1" tabindex="-1"></a>vec_1 <span class="sc">&lt;</span> vec_2</span></code></pre></div>
<pre><code>#&gt; [1] TRUE TRUE TRUE</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="r-basics-ii-datenstrukturen.html#cb66-1" tabindex="-1"></a>vec_1 <span class="sc">&lt;</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>#&gt; [1]  TRUE  TRUE FALSE</code></pre>
<p>In der letzten Sitzung haben wir bereits den Unterschied zwischen dem “elementweisen” Operatoren &amp; und | und den Operatoren &amp;&amp; und || angeschnitten. Das Verhalten war bei der Auswertung einfacher Ausdrücke mit einzelnen Werten nicht bemerkbar, aber es wird relevant, wenn die Operatoren auf Vektoren anstelle von einzelnen Werten angewandt werden:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="r-basics-ii-datenstrukturen.html#cb68-1" tabindex="-1"></a>zahlen <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb68-2"><a href="r-basics-ii-datenstrukturen.html#cb68-2" tabindex="-1"></a>zahlen <span class="sc">&gt;</span> <span class="dv">2</span> <span class="sc">&amp;</span> zahlen <span class="sc">&lt;</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>#&gt; [1] FALSE FALSE  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="r-basics-ii-datenstrukturen.html#cb70-1" tabindex="-1"></a>zahlen <span class="sc">&gt;</span> <span class="dv">2</span> <span class="sc">&amp;&amp;</span> zahlen <span class="sc">&lt;</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>#&gt; Error in zahlen &gt; 2 &amp;&amp; zahlen &lt; 4: &#39;length = 5&#39; in coercion to &#39;logical(1)&#39;</code></pre>
<div class="task">
<p>Verständnisfragen:</p>
<ul>
<li>Warum wird der Ausdruck <code>zahlen &gt; 2 &amp; zahlen &lt; 4</code> zu <code>FALSE FALSE TRUE FALSE FALSE</code> evaluiert?</li>
<li>Welche Datenstruktur wird ausgegeben, wenn der Ausdruck evaluiert wird?</li>
<li>Was bedeutet die Fehlermeldung bei der Auswertung des Ausdrucks <code>zahlen &gt; 2 &amp;&amp; zahlen &lt; 4</code>?</li>
</ul>
</div>
</div>
</div>
<div id="listen" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Listen<a href="r-basics-ii-datenstrukturen.html#listen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Listen enthalten wie Vektoren eine Sequenz von Werten.</strong> Im Abschnitt zu Vektoren haben wir bereits gelernt, dass diese Werte auch Elemente genannt werden. Genau wie bei Vektoren können sich Werte in einer Liste wiederholen. Die Elemente einer Liste sind ebenfalls geordnet, das heißt jedes Element hat einen Index, genau wie bei Vektoren. Ähnlich wie bei benannten Vektoren kann man den Elementen einer Liste außerdem einen Namen (wird manchmal auch Schlüssel genannt) zuordnen, über den auf den Wert zugegriffen werden kann. <strong>Anders als bei Vektoren können die Elemente einer Liste aber verschiedene Datentypen haben.</strong></p>
<p><img src="images/liste.png" width="724" /></p>
<div id="listen-erstellen" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Listen erstellen<a href="r-basics-ii-datenstrukturen.html#listen-erstellen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Listen werden mithilfe der Funktion <code>list()</code> erstellt. Genau wie bei benannten Vektoren müssen die Namen oder Schlüssel der Werte Zeichenketten sein. Wenn keine Anführungszeichen angegeben werden, erkennt R auch hier automatisch, dass eine Zeichenkette gemeint ist.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="r-basics-ii-datenstrukturen.html#cb72-1" tabindex="-1"></a><span class="co"># Liste erstellen </span></span>
<span id="cb72-2"><a href="r-basics-ii-datenstrukturen.html#cb72-2" tabindex="-1"></a>einkauf_liste <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">frucht=</span><span class="st">&quot;Apfel&quot;</span>, <span class="at">anzahl=</span><span class="dv">20</span>, <span class="at">vorraetig=</span><span class="cn">TRUE</span>)</span>
<span id="cb72-3"><a href="r-basics-ii-datenstrukturen.html#cb72-3" tabindex="-1"></a></span>
<span id="cb72-4"><a href="r-basics-ii-datenstrukturen.html#cb72-4" tabindex="-1"></a><span class="co"># Liste ausgeben </span></span>
<span id="cb72-5"><a href="r-basics-ii-datenstrukturen.html#cb72-5" tabindex="-1"></a><span class="fu">print</span>(einkauf_liste)</span></code></pre></div>
<pre><code>#&gt; $frucht
#&gt; [1] &quot;Apfel&quot;
#&gt; 
#&gt; $anzahl
#&gt; [1] 20
#&gt; 
#&gt; $vorraetig
#&gt; [1] TRUE</code></pre>
<p>Die einzelnen Elemente müssen dabei nicht unbedingt benannt werden, das heißt, der Code oben könnte genausogut so aussehen:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="r-basics-ii-datenstrukturen.html#cb74-1" tabindex="-1"></a><span class="fu">list</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="dv">20</span>, <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>#&gt; [[1]]
#&gt; [1] &quot;Apfel&quot;
#&gt; 
#&gt; [[2]]
#&gt; [1] 20
#&gt; 
#&gt; [[3]]
#&gt; [1] TRUE</code></pre>
<p>Die Elemente einer Liste können auch Vektoren oder selbst Listen sein. Im ersten Fall wird die Liste dann “<strong>Liste von Vektoren</strong>” und im letzteren Fall “<strong>Liste von Listen</strong>” genannt. Ein allgemeiner Begriff für solche Listen ist “verschachtelte Liste”.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="r-basics-ii-datenstrukturen.html#cb76-1" tabindex="-1"></a><span class="co"># Liste von Vektoren erstellen: </span></span>
<span id="cb76-2"><a href="r-basics-ii-datenstrukturen.html#cb76-2" tabindex="-1"></a>liste_von_vektoren <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">frucht =</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Banane&quot;</span>),</span>
<span id="cb76-3"><a href="r-basics-ii-datenstrukturen.html#cb76-3" tabindex="-1"></a>                           <span class="at">anzahl =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">32</span>, <span class="dv">0</span>),</span>
<span id="cb76-4"><a href="r-basics-ii-datenstrukturen.html#cb76-4" tabindex="-1"></a>                           <span class="at">vorraetig =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb76-5"><a href="r-basics-ii-datenstrukturen.html#cb76-5" tabindex="-1"></a>              )</span>
<span id="cb76-6"><a href="r-basics-ii-datenstrukturen.html#cb76-6" tabindex="-1"></a><span class="fu">print</span>(liste_von_vektoren)</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; $frucht
#&gt; [1] &quot;Apfel&quot;    &quot;Erdbeere&quot; &quot;Banane&quot;  
#&gt; 
#&gt; $anzahl
#&gt; [1] 20 32  0
#&gt; 
#&gt; $vorraetig
#&gt; [1]  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="r-basics-ii-datenstrukturen.html#cb78-1" tabindex="-1"></a><span class="co"># Liste von Listen erstellen: </span></span>
<span id="cb78-2"><a href="r-basics-ii-datenstrukturen.html#cb78-2" tabindex="-1"></a>liste_von_listen <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">Apfel =</span> <span class="fu">list</span>(<span class="dv">20</span>, <span class="cn">FALSE</span>),</span>
<span id="cb78-3"><a href="r-basics-ii-datenstrukturen.html#cb78-3" tabindex="-1"></a>                         <span class="at">Erdbeere =</span> <span class="fu">list</span>(<span class="dv">32</span>, <span class="cn">FALSE</span>),</span>
<span id="cb78-4"><a href="r-basics-ii-datenstrukturen.html#cb78-4" tabindex="-1"></a>                         <span class="at">Banane =</span> <span class="fu">list</span>(<span class="dv">0</span>, <span class="cn">TRUE</span>)</span>
<span id="cb78-5"><a href="r-basics-ii-datenstrukturen.html#cb78-5" tabindex="-1"></a>)</span>
<span id="cb78-6"><a href="r-basics-ii-datenstrukturen.html#cb78-6" tabindex="-1"></a><span class="fu">print</span>(liste_von_listen)</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; $Apfel
#&gt; $Apfel[[1]]
#&gt; [1] 20
#&gt; 
#&gt; $Apfel[[2]]
#&gt; [1] FALSE
#&gt; 
#&gt; 
#&gt; $Erdbeere
#&gt; $Erdbeere[[1]]
#&gt; [1] 32
#&gt; 
#&gt; $Erdbeere[[2]]
#&gt; [1] FALSE
#&gt; 
#&gt; 
#&gt; $Banane
#&gt; $Banane[[1]]
#&gt; [1] 0
#&gt; 
#&gt; $Banane[[2]]
#&gt; [1] TRUE</code></pre>
<p>Achtung: In der Liste <code>liste_von_vektoren</code> sind alle Vektoren gleich lang und beziehen sich aufeinander: Von der Frucht Apfel sind noch 20 Stück da, sodass Äpfel vorrätig sind. Dies muss aber nicht unbedingt der Fall sein! <strong>Die Elemente einer verschachtelten Liste können unterschiedlich lang sein</strong> und müssen sich nicht unbedingt aufeinander beziehen.</p>
<p>Schematisch sieht eine Liste von Vektoren (hier mit Vektoren derselben Länge) in etwa so aus:</p>
<p><img src="images/liste_von_vektoren.png" width="1204" /></p>
<p>Das Bild illustriert auch, wie auf die Elemente in einer Liste von Vektoren zugegriffen werden kann. Der Zugriff auf Elemente in einer Liste ist nämlich etwas komplizierter als bei einem Vektor. Darum geht es im folgenden Abschnitt.</p>
</div>
<div id="operationen-auf-listen" class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> Operationen auf Listen<a href="r-basics-ii-datenstrukturen.html#operationen-auf-listen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Auf Elemente und ihre Namen über den Index zugreifen:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="r-basics-ii-datenstrukturen.html#cb80-1" tabindex="-1"></a>einkauf_liste[<span class="dv">1</span>]</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; $frucht
#&gt; [1] &quot;Apfel&quot;</code></pre>
<p>Auf Elemente ohne Namen über den Index zugreifen:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="r-basics-ii-datenstrukturen.html#cb82-1" tabindex="-1"></a>einkauf_liste[[<span class="dv">1</span>]]</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; [1] &quot;Apfel&quot;</code></pre>
<p>Auf Elemente über den Namen (Schlüssel) zugreifen:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="r-basics-ii-datenstrukturen.html#cb84-1" tabindex="-1"></a><span class="co"># Option 1 </span></span>
<span id="cb84-2"><a href="r-basics-ii-datenstrukturen.html#cb84-2" tabindex="-1"></a>einkauf_liste<span class="sc">$</span>frucht</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; [1] &quot;Apfel&quot;</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="r-basics-ii-datenstrukturen.html#cb86-1" tabindex="-1"></a><span class="co"># Option 2</span></span>
<span id="cb86-2"><a href="r-basics-ii-datenstrukturen.html#cb86-2" tabindex="-1"></a>einkauf_liste[[<span class="st">&quot;frucht&quot;</span>]]</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; [1] &quot;Apfel&quot;</code></pre>
<p>Auf das erste Element des ersten Vektors in einer Liste von Vektoren über den Index zugreifen:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="r-basics-ii-datenstrukturen.html#cb88-1" tabindex="-1"></a>liste_von_vektoren[[<span class="dv">1</span>]][<span class="dv">1</span>]</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; [1] &quot;Apfel&quot;</code></pre>
<p>Auf das erste Element des ersten Vektors in einer Liste von Vektoren über den Schlüssel zugreifen</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="r-basics-ii-datenstrukturen.html#cb90-1" tabindex="-1"></a><span class="co"># Option 1</span></span>
<span id="cb90-2"><a href="r-basics-ii-datenstrukturen.html#cb90-2" tabindex="-1"></a>liste_von_vektoren[[<span class="st">&quot;frucht&quot;</span>]][<span class="dv">1</span>]</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; [1] &quot;Apfel&quot;</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="r-basics-ii-datenstrukturen.html#cb92-1" tabindex="-1"></a><span class="co"># Option 2</span></span>
<span id="cb92-2"><a href="r-basics-ii-datenstrukturen.html#cb92-2" tabindex="-1"></a>liste_von_vektoren<span class="sc">$</span>frucht[<span class="dv">1</span>]</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; [1] &quot;Apfel&quot;</code></pre>
<p>Listen kombinieren mit der Funktion c():</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="r-basics-ii-datenstrukturen.html#cb94-1" tabindex="-1"></a>einkauf_bananen <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">frucht=</span><span class="st">&quot;Banane&quot;</span>, <span class="at">anzahl=</span><span class="dv">0</span>, <span class="at">vorraetig=</span><span class="cn">FALSE</span>)</span>
<span id="cb94-2"><a href="r-basics-ii-datenstrukturen.html#cb94-2" tabindex="-1"></a>einkauf_gesamt <span class="ot">&lt;-</span> <span class="fu">c</span>(einkauf_liste, einkauf_bananen) </span></code></pre></div>
<div class="task">
<p>Verständnisfragen:</p>
<ul>
<li>Um welche Datenstruktur handelt es sich bei dem Objekt <code>einkauf_gesamt</code>?</li>
<li>Was ist der Datentyp der Elemente des Objekts <code>einkauf_gesamt</code>?</li>
<li>Was ist der Unterschied zwischen Listen und Named Vectors?</li>
</ul>
</div>
<p>Sehr anschaulich illustriert dieser Abschnitt in <a href="https://adv-r.hadley.nz/subsetting.html#subset-single">Hadley Wickham’s Lehrbuch “Advanced R”</a> den Unterschied zwischen dem Zugriff mit einfachen und mit doppelten eckigen Klammern:</p>
<p><img src="images/wickham-train.png" width="555" /><img src="images/wickham-train-single.png" width="555" /><img src="images/wickham-train-multiple.png" width="555" /></p>
<p>Quelle: Hadley Wickham, Advanced R, <a href="https://adv-r.hadley.nz/subsetting.html#subset-single" class="uri">https://adv-r.hadley.nz/subsetting.html#subset-single</a></p>
<p>Im letzten Beispiel haben wir die bereits bekannte Funktion <code>c()</code> verwendet, um zwei Listen in eine neue Liste <code>einkauf_gesamt</code> zu kombinieren. Das heißt: Wenn wir die Funktion <code>c()</code> verwenden, um zwei Listen zu kombinieren, dann kommt auch eine Liste dabei raus. Man kann mit der Funktion <code>c()</code> aber keine Listen aus einzelnen Werten erstellen:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="r-basics-ii-datenstrukturen.html#cb95-1" tabindex="-1"></a><span class="co"># Mit der Funktion c() kann man KEINE Liste erstellen</span></span>
<span id="cb95-2"><a href="r-basics-ii-datenstrukturen.html#cb95-2" tabindex="-1"></a>einkauf_bananen <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">frucht=</span><span class="st">&quot;Banane&quot;</span>, <span class="at">anzahl=</span><span class="dv">0</span>, <span class="at">vorraetig=</span><span class="cn">FALSE</span>)</span>
<span id="cb95-3"><a href="r-basics-ii-datenstrukturen.html#cb95-3" tabindex="-1"></a><span class="fu">typeof</span>(einkauf_bananen)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;character&quot;</code></pre>
</div>
</div>
<div id="auf-einen-blick-vektoren-vs-benannte-vektoren-vs-faktoren-vs-listen" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Auf einen Blick: Vektoren vs benannte Vektoren vs Faktoren vs Listen<a href="r-basics-ii-datenstrukturen.html#auf-einen-blick-vektoren-vs-benannte-vektoren-vs-faktoren-vs-listen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In diesem Abschnitt werden die Unterschiede zwischen einfachen Vektoren, benannten Vektoren, Faktoren und Listen anhand eines Beispiels illustriert. Das Beispiel illustriert, wie Daten zu Wetterbedingungen für jeden Monat eines Jahres mithilfe der verschiedenen Datenstrukturen organisiert werden können.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="r-basics-ii-datenstrukturen.html#cb97-1" tabindex="-1"></a><span class="co"># Vektor: Ein einfacher Vektor, der die Wetterbedingungen für jeden Monat eines Jahres speichert.</span></span>
<span id="cb97-2"><a href="r-basics-ii-datenstrukturen.html#cb97-2" tabindex="-1"></a>weather_conditions <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;sonnig&quot;</span>, <span class="st">&quot;bewölkt&quot;</span>, <span class="st">&quot;sonnig&quot;</span>, <span class="st">&quot;regnerisch&quot;</span>, <span class="st">&quot;bewölkt&quot;</span>, <span class="st">&quot;sonnig&quot;</span>,</span>
<span id="cb97-3"><a href="r-basics-ii-datenstrukturen.html#cb97-3" tabindex="-1"></a>                        <span class="st">&quot;regnerisch&quot;</span>, <span class="st">&quot;bewölkt&quot;</span>, <span class="st">&quot;bewölkt&quot;</span>, <span class="st">&quot;sonnig&quot;</span>, <span class="st">&quot;bewölkt&quot;</span>, <span class="st">&quot;regnerisch&quot;</span>)</span>
<span id="cb97-4"><a href="r-basics-ii-datenstrukturen.html#cb97-4" tabindex="-1"></a>avg_rainfall <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">40</span>, <span class="dv">45</span>, <span class="dv">60</span>, <span class="dv">55</span>, <span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">70</span>, <span class="dv">65</span>, <span class="dv">55</span>, <span class="dv">50</span>)</span>
<span id="cb97-5"><a href="r-basics-ii-datenstrukturen.html#cb97-5" tabindex="-1"></a><span class="fu">print</span>(weather_conditions)</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt;  [1] &quot;sonnig&quot;     &quot;bewölkt&quot;    &quot;sonnig&quot;     &quot;regnerisch&quot; &quot;bewölkt&quot;   
#&gt;  [6] &quot;sonnig&quot;     &quot;regnerisch&quot; &quot;bewölkt&quot;    &quot;bewölkt&quot;    &quot;sonnig&quot;    
#&gt; [11] &quot;bewölkt&quot;    &quot;regnerisch&quot;</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="r-basics-ii-datenstrukturen.html#cb99-1" tabindex="-1"></a><span class="fu">print</span>(avg_rainfall)</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt;  [1] 50 40 45 60 55 70 80 75 70 65 55 50</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="r-basics-ii-datenstrukturen.html#cb101-1" tabindex="-1"></a><span class="co"># Named Vector: Ein benannter Vektor, der die Wetterbedingungen für jeden Monat eines Jahres speichert und Monatsnamen als Namen für jedes Element verwendet. </span></span>
<span id="cb101-2"><a href="r-basics-ii-datenstrukturen.html#cb101-2" tabindex="-1"></a>weather_conditions_named <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">Jan=</span><span class="st">&quot;sonnig&quot;</span>, <span class="at">Feb=</span><span class="st">&quot;bewölkt&quot;</span>, <span class="at">Mar=</span><span class="st">&quot;sonnig&quot;</span>, <span class="at">Apr=</span><span class="st">&quot;regnerisch&quot;</span>,</span>
<span id="cb101-3"><a href="r-basics-ii-datenstrukturen.html#cb101-3" tabindex="-1"></a>                              <span class="at">Mai=</span><span class="st">&quot;bewölkt&quot;</span>, <span class="at">Jun=</span><span class="st">&quot;sonnig&quot;</span>, <span class="at">Jul=</span><span class="st">&quot;regnerisch&quot;</span>, <span class="at">Aug=</span><span class="st">&quot;bewölkt&quot;</span>,</span>
<span id="cb101-4"><a href="r-basics-ii-datenstrukturen.html#cb101-4" tabindex="-1"></a>                              <span class="at">Sep=</span><span class="st">&quot;bewölkt&quot;</span>, <span class="at">Okt=</span><span class="st">&quot;sonnig&quot;</span>, <span class="at">Nov=</span><span class="st">&quot;bewölkt&quot;</span>, <span class="at">Dez=</span><span class="st">&quot;regnerisch&quot;</span>)</span>
<span id="cb101-5"><a href="r-basics-ii-datenstrukturen.html#cb101-5" tabindex="-1"></a><span class="fu">print</span>(weather_conditions_named)</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt;          Jan          Feb          Mar          Apr          Mai          Jun 
#&gt;     &quot;sonnig&quot;    &quot;bewölkt&quot;     &quot;sonnig&quot; &quot;regnerisch&quot;    &quot;bewölkt&quot;     &quot;sonnig&quot; 
#&gt;          Jul          Aug          Sep          Okt          Nov          Dez 
#&gt; &quot;regnerisch&quot;    &quot;bewölkt&quot;    &quot;bewölkt&quot;     &quot;sonnig&quot;    &quot;bewölkt&quot; &quot;regnerisch&quot;</code></pre>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="r-basics-ii-datenstrukturen.html#cb103-1" tabindex="-1"></a><span class="co"># Faktor: Häufigkeitsverteilung der Wetterbedingungen</span></span>
<span id="cb103-2"><a href="r-basics-ii-datenstrukturen.html#cb103-2" tabindex="-1"></a><span class="co"># Konvertieren des Vektors in einen Faktor mit benannten Ebenen</span></span>
<span id="cb103-3"><a href="r-basics-ii-datenstrukturen.html#cb103-3" tabindex="-1"></a>weather_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(weather_conditions, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">&quot;sonnig&quot;</span>, <span class="st">&quot;bewölkt&quot;</span>, <span class="st">&quot;regnerisch&quot;</span>), <span class="at">ordered=</span><span class="cn">TRUE</span>)</span>
<span id="cb103-4"><a href="r-basics-ii-datenstrukturen.html#cb103-4" tabindex="-1"></a><span class="co"># Häufigkeitsverteilung der Wetterbedingungen</span></span>
<span id="cb103-5"><a href="r-basics-ii-datenstrukturen.html#cb103-5" tabindex="-1"></a>weather_table <span class="ot">&lt;-</span> <span class="fu">table</span>(weather_factor)</span>
<span id="cb103-6"><a href="r-basics-ii-datenstrukturen.html#cb103-6" tabindex="-1"></a><span class="co"># Ergebnis anzeigen</span></span>
<span id="cb103-7"><a href="r-basics-ii-datenstrukturen.html#cb103-7" tabindex="-1"></a><span class="fu">print</span>(weather_table)</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; weather_factor
#&gt;     sonnig    bewölkt regnerisch 
#&gt;          4          5          3</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="r-basics-ii-datenstrukturen.html#cb105-1" tabindex="-1"></a><span class="co"># Liste: Eine Liste, die Informationen über das Wetter für jeden Monat des Jahres enthält. </span></span>
<span id="cb105-2"><a href="r-basics-ii-datenstrukturen.html#cb105-2" tabindex="-1"></a><span class="co"># Jedes Element der Liste ist ein eigenes Objekt, in diesem Fall ein Vektor. </span></span>
<span id="cb105-3"><a href="r-basics-ii-datenstrukturen.html#cb105-3" tabindex="-1"></a>weather_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">Condition=</span>weather_conditions, </span>
<span id="cb105-4"><a href="r-basics-ii-datenstrukturen.html#cb105-4" tabindex="-1"></a>                     <span class="at">Rainfall=</span>avg_rainfall,</span>
<span id="cb105-5"><a href="r-basics-ii-datenstrukturen.html#cb105-5" tabindex="-1"></a>                     <span class="at">Month=</span><span class="fu">c</span>(<span class="st">&quot;Januar&quot;</span>, <span class="st">&quot;Februar&quot;</span>, <span class="st">&quot;Maerz&quot;</span>, <span class="st">&quot;April&quot;</span>, <span class="st">&quot;Mai&quot;</span>, <span class="st">&quot;Juni&quot;</span>, <span class="st">&quot;Juli&quot;</span>, <span class="st">&quot;August&quot;</span>, <span class="st">&quot;September&quot;</span>, <span class="st">&quot;Oktober&quot;</span>, <span class="st">&quot;November&quot;</span>, <span class="st">&quot;Dezember&quot;</span>))</span>
<span id="cb105-6"><a href="r-basics-ii-datenstrukturen.html#cb105-6" tabindex="-1"></a><span class="fu">print</span>(weather_list)</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; $Condition
#&gt;  [1] &quot;sonnig&quot;     &quot;bewölkt&quot;    &quot;sonnig&quot;     &quot;regnerisch&quot; &quot;bewölkt&quot;   
#&gt;  [6] &quot;sonnig&quot;     &quot;regnerisch&quot; &quot;bewölkt&quot;    &quot;bewölkt&quot;    &quot;sonnig&quot;    
#&gt; [11] &quot;bewölkt&quot;    &quot;regnerisch&quot;
#&gt; 
#&gt; $Rainfall
#&gt;  [1] 50 40 45 60 55 70 80 75 70 65 55 50
#&gt; 
#&gt; $Month
#&gt;  [1] &quot;Januar&quot;    &quot;Februar&quot;   &quot;Maerz&quot;     &quot;April&quot;     &quot;Mai&quot;       &quot;Juni&quot;     
#&gt;  [7] &quot;Juli&quot;      &quot;August&quot;    &quot;September&quot; &quot;Oktober&quot;   &quot;November&quot;  &quot;Dezember&quot;</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="r-basics-ii-datenstrukturen.html#cb107-1" tabindex="-1"></a><span class="co"># Andere Darstellungsform als Liste von Listen</span></span>
<span id="cb107-2"><a href="r-basics-ii-datenstrukturen.html#cb107-2" tabindex="-1"></a>weather_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">Januar=</span><span class="fu">list</span>(<span class="dv">50</span>, <span class="st">&quot;sonnig&quot;</span>),</span>
<span id="cb107-3"><a href="r-basics-ii-datenstrukturen.html#cb107-3" tabindex="-1"></a>                     <span class="at">Februar=</span><span class="fu">list</span>(<span class="dv">40</span>, <span class="st">&quot;bewölkt&quot;</span>), </span>
<span id="cb107-4"><a href="r-basics-ii-datenstrukturen.html#cb107-4" tabindex="-1"></a>                     <span class="at">Maerz=</span><span class="fu">list</span>(<span class="dv">45</span>, <span class="st">&quot;sonnig&quot;</span>), </span>
<span id="cb107-5"><a href="r-basics-ii-datenstrukturen.html#cb107-5" tabindex="-1"></a>                     <span class="at">April=</span><span class="fu">list</span>(<span class="dv">60</span>, <span class="st">&quot;regnerisch&quot;</span>),</span>
<span id="cb107-6"><a href="r-basics-ii-datenstrukturen.html#cb107-6" tabindex="-1"></a>                     <span class="at">Mai=</span><span class="fu">list</span>(<span class="dv">55</span>, <span class="st">&quot;bewölkt&quot;</span>),</span>
<span id="cb107-7"><a href="r-basics-ii-datenstrukturen.html#cb107-7" tabindex="-1"></a>                     <span class="at">Juni=</span><span class="fu">list</span>(<span class="dv">70</span>, <span class="st">&quot;sonnig&quot;</span>),</span>
<span id="cb107-8"><a href="r-basics-ii-datenstrukturen.html#cb107-8" tabindex="-1"></a>                     <span class="at">Juli=</span><span class="fu">list</span>(<span class="dv">80</span>, <span class="st">&quot;regnerisch&quot;</span>),</span>
<span id="cb107-9"><a href="r-basics-ii-datenstrukturen.html#cb107-9" tabindex="-1"></a>                     <span class="at">August=</span><span class="fu">list</span>(<span class="dv">75</span>, <span class="st">&quot;bewölkt&quot;</span>),</span>
<span id="cb107-10"><a href="r-basics-ii-datenstrukturen.html#cb107-10" tabindex="-1"></a>                     <span class="at">September=</span><span class="fu">list</span>(<span class="dv">70</span>, <span class="st">&quot;bewölkt&quot;</span>),</span>
<span id="cb107-11"><a href="r-basics-ii-datenstrukturen.html#cb107-11" tabindex="-1"></a>                     <span class="at">Oktober=</span><span class="fu">list</span>(<span class="dv">65</span>, <span class="st">&quot;sonnig&quot;</span>),</span>
<span id="cb107-12"><a href="r-basics-ii-datenstrukturen.html#cb107-12" tabindex="-1"></a>                     <span class="at">November=</span><span class="fu">list</span>(<span class="dv">55</span>, <span class="st">&quot;bewölkt&quot;</span>),</span>
<span id="cb107-13"><a href="r-basics-ii-datenstrukturen.html#cb107-13" tabindex="-1"></a>                     <span class="at">Dezember=</span><span class="fu">list</span>(<span class="dv">50</span>, <span class="st">&quot;regnerisch&quot;</span>)</span>
<span id="cb107-14"><a href="r-basics-ii-datenstrukturen.html#cb107-14" tabindex="-1"></a>)</span>
<span id="cb107-15"><a href="r-basics-ii-datenstrukturen.html#cb107-15" tabindex="-1"></a><span class="fu">print</span>(weather_list)</span></code></pre></div>
<pre style="max-height: 150px;"><code>#&gt; $Januar
#&gt; $Januar[[1]]
#&gt; [1] 50
#&gt; 
#&gt; $Januar[[2]]
#&gt; [1] &quot;sonnig&quot;
#&gt; 
#&gt; 
#&gt; $Februar
#&gt; $Februar[[1]]
#&gt; [1] 40
#&gt; 
#&gt; $Februar[[2]]
#&gt; [1] &quot;bewölkt&quot;
#&gt; 
#&gt; 
#&gt; $Maerz
#&gt; $Maerz[[1]]
#&gt; [1] 45
#&gt; 
#&gt; $Maerz[[2]]
#&gt; [1] &quot;sonnig&quot;
#&gt; 
#&gt; 
#&gt; $April
#&gt; $April[[1]]
#&gt; [1] 60
#&gt; 
#&gt; $April[[2]]
#&gt; [1] &quot;regnerisch&quot;
#&gt; 
#&gt; 
#&gt; $Mai
#&gt; $Mai[[1]]
#&gt; [1] 55
#&gt; 
#&gt; $Mai[[2]]
#&gt; [1] &quot;bewölkt&quot;
#&gt; 
#&gt; 
#&gt; $Juni
#&gt; $Juni[[1]]
#&gt; [1] 70
#&gt; 
#&gt; $Juni[[2]]
#&gt; [1] &quot;sonnig&quot;
#&gt; 
#&gt; 
#&gt; $Juli
#&gt; $Juli[[1]]
#&gt; [1] 80
#&gt; 
#&gt; $Juli[[2]]
#&gt; [1] &quot;regnerisch&quot;
#&gt; 
#&gt; 
#&gt; $August
#&gt; $August[[1]]
#&gt; [1] 75
#&gt; 
#&gt; $August[[2]]
#&gt; [1] &quot;bewölkt&quot;
#&gt; 
#&gt; 
#&gt; $September
#&gt; $September[[1]]
#&gt; [1] 70
#&gt; 
#&gt; $September[[2]]
#&gt; [1] &quot;bewölkt&quot;
#&gt; 
#&gt; 
#&gt; $Oktober
#&gt; $Oktober[[1]]
#&gt; [1] 65
#&gt; 
#&gt; $Oktober[[2]]
#&gt; [1] &quot;sonnig&quot;
#&gt; 
#&gt; 
#&gt; $November
#&gt; $November[[1]]
#&gt; [1] 55
#&gt; 
#&gt; $November[[2]]
#&gt; [1] &quot;bewölkt&quot;
#&gt; 
#&gt; 
#&gt; $Dezember
#&gt; $Dezember[[1]]
#&gt; [1] 50
#&gt; 
#&gt; $Dezember[[2]]
#&gt; [1] &quot;regnerisch&quot;</code></pre>
</div>
<div id="matrizen" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Matrizen<a href="r-basics-ii-datenstrukturen.html#matrizen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Eine Matrix ist in R im Grunde eine Kombination mehrerer Vektoren in Spalten und Zeilen. Formell ausgedrückt: In einer Matrix kann jede Spalte und jede Zeile als Vektor aufgefasst werden. Das heißt, dass jedes Element in einer Matrix denselben Datentyp hat, eben genau wie bei Vektoren.</strong> Wenn beispielsweise alle Elemente den Typ character haben, spricht man auch von einer character-Matrix. Zusätzlich haben Matrizen eine <strong>Dimension</strong>, die mithilfe der Funktion <code>dim()</code> abgefragt werden kann. Die Dimension einer Matrix ist die Anzahl ihrer Zeilen und Spalten. Die Matrix unten hat beispielsweise die Dimension 2x3: Sie hat zwei Zeilen und drei Spalten.</p>
<p><img src="images/matrix.png" width="964" /></p>
<p>Da Matrizen aus Vektoren bestehen, können Matrizen erstellt werden, indem mehrere Vektoren kombiniert werden, oder, indem ein einzelner Vektor in verschiedene Spalten aufgeteilt wird. Dabei wird bei der Erstellung der Matrix mithilfe dem Zusatz <code>ncol</code> festgelegt, in wie viele Spalten die Elemente des Vektors organisiert werden sollen.</p>
<p>Wir betrachten zunächst ein ganz simples Beispiel:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="r-basics-ii-datenstrukturen.html#cb109-1" tabindex="-1"></a><span class="co"># Matrix aus einem einzigen Vektor erstellen mit der Funktion matrix() </span></span>
<span id="cb109-2"><a href="r-basics-ii-datenstrukturen.html#cb109-2" tabindex="-1"></a>fruechte <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Orange&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Kiwi&quot;</span>, <span class="st">&quot;Birne&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>), <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb109-3"><a href="r-basics-ii-datenstrukturen.html#cb109-3" tabindex="-1"></a><span class="fu">print</span>(fruechte)</span></code></pre></div>
<pre><code>#&gt;      [,1]     [,2]     [,3]      
#&gt; [1,] &quot;Apfel&quot;  &quot;Banane&quot; &quot;Birne&quot;   
#&gt; [2,] &quot;Orange&quot; &quot;Kiwi&quot;   &quot;Erdbeere&quot;</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="r-basics-ii-datenstrukturen.html#cb111-1" tabindex="-1"></a><span class="co"># Dimension einer Matrix ausgeben lassen</span></span>
<span id="cb111-2"><a href="r-basics-ii-datenstrukturen.html#cb111-2" tabindex="-1"></a><span class="fu">dim</span>(fruechte) <span class="co"># Dimension ist 2 x 3</span></span></code></pre></div>
<pre><code>#&gt; [1] 2 3</code></pre>
<p>Die Matrix <code>fruechte</code> ist jedoch nicht sehr informativ. Häufig haben die Spalten und Zeilen einer Matrix eine Bedeutung, sodass es sinnvoll ist, die Zeilen und/oder Spalten zu benennen. Wenn die Matrix wie im Beispiel oben aus einem einzelnen Vektor erstellt wird, können direkt beim Erstellen der Matrix die Zeilen- und Spaltennamen angegeben werden. In unserem Beispiel macht es nicht so viel Sinn, auch den Zeilen eine Bedeutung zu geben. Deswegen verwenden wir in der Funktion <code>list()</code> innerhalb der Funktion <code>matrix()</code> hier den Wert <code>NULL</code> (siehe dazu den Abschnitt “Fehlende und ungültige Werte in Datenstrukturen”). Wenn Zeilennamen festgelegt werden sollen, kann <code>NULL</code> einfach durch einen Vektor mit den Zeilennamen ausgetauscht werden.
Beachtet, dass es einen Unterschied macht, ob die Elemente der Liste einen Namen haben oder nicht:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="r-basics-ii-datenstrukturen.html#cb113-1" tabindex="-1"></a><span class="co"># Matrix erstellen und direkt Namen für die Spalten festlegen </span></span>
<span id="cb113-2"><a href="r-basics-ii-datenstrukturen.html#cb113-2" tabindex="-1"></a><span class="co"># Achtung: die Dimension ist jetzt 3 x 2 !</span></span>
<span id="cb113-3"><a href="r-basics-ii-datenstrukturen.html#cb113-3" tabindex="-1"></a></span>
<span id="cb113-4"><a href="r-basics-ii-datenstrukturen.html#cb113-4" tabindex="-1"></a><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Orange&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Kiwi&quot;</span>, <span class="st">&quot;Birne&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>), </span>
<span id="cb113-5"><a href="r-basics-ii-datenstrukturen.html#cb113-5" tabindex="-1"></a>       <span class="at">ncol =</span> <span class="dv">2</span>, </span>
<span id="cb113-6"><a href="r-basics-ii-datenstrukturen.html#cb113-6" tabindex="-1"></a>       <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="cn">NULL</span>,</span>
<span id="cb113-7"><a href="r-basics-ii-datenstrukturen.html#cb113-7" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">&quot;nicht_vorraetig&quot;</span>, <span class="st">&quot;vorraetig&quot;</span>)))</span></code></pre></div>
<pre><code>#&gt;      nicht_vorraetig vorraetig 
#&gt; [1,] &quot;Apfel&quot;         &quot;Kiwi&quot;    
#&gt; [2,] &quot;Orange&quot;        &quot;Birne&quot;   
#&gt; [3,] &quot;Banane&quot;        &quot;Erdbeere&quot;</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="r-basics-ii-datenstrukturen.html#cb115-1" tabindex="-1"></a><span class="co"># Matrix erstellen, Namen für einzelne Spalten festlegen, und Spalten insgesamt benennen</span></span>
<span id="cb115-2"><a href="r-basics-ii-datenstrukturen.html#cb115-2" tabindex="-1"></a><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Orange&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Kiwi&quot;</span>, <span class="st">&quot;Birne&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>), </span>
<span id="cb115-3"><a href="r-basics-ii-datenstrukturen.html#cb115-3" tabindex="-1"></a>       <span class="at">ncol =</span> <span class="dv">2</span>, </span>
<span id="cb115-4"><a href="r-basics-ii-datenstrukturen.html#cb115-4" tabindex="-1"></a>       <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="cn">NULL</span>,</span>
<span id="cb115-5"><a href="r-basics-ii-datenstrukturen.html#cb115-5" tabindex="-1"></a>                      <span class="st">&quot;Vorratsstatus&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;nicht_vorraetig&quot;</span>, <span class="st">&quot;vorraetig&quot;</span>)))</span></code></pre></div>
<pre><code>#&gt;       Vorratsstatus
#&gt;        nicht_vorraetig vorraetig 
#&gt;   [1,] &quot;Apfel&quot;         &quot;Kiwi&quot;    
#&gt;   [2,] &quot;Orange&quot;        &quot;Birne&quot;   
#&gt;   [3,] &quot;Banane&quot;        &quot;Erdbeere&quot;</code></pre>
<p>Wenn Matrizen aus mehreren Vektoren erstellt werden, sind die Spalten- bzw. Zeilennamen automatisch die Namen der Vektoren, aus denen die Matrix erstellt wurde. Um Matrizen aus bereits existierenden Vektoren zu erstellen, kann entweder die Funktion <code>rbind()</code> oder die Funktion <code>cbind()</code> verwendet werden. <code>rbind()</code> fügt die Vektoren als Zeilen, also übereinander, zusammen. <code>cbind()</code> fügt die Vektoren als Spalten, also nebeneinander, zusammen.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="r-basics-ii-datenstrukturen.html#cb117-1" tabindex="-1"></a><span class="co"># Matrix zeilenweise erstellen mit der Funktion rbind()</span></span>
<span id="cb117-2"><a href="r-basics-ii-datenstrukturen.html#cb117-2" tabindex="-1"></a>nicht_vorraetig <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Orange&quot;</span>, <span class="st">&quot;Birne&quot;</span>)</span>
<span id="cb117-3"><a href="r-basics-ii-datenstrukturen.html#cb117-3" tabindex="-1"></a>vorraetig <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Erbeere&quot;</span>, <span class="st">&quot;Kiwi&quot;</span>) </span>
<span id="cb117-4"><a href="r-basics-ii-datenstrukturen.html#cb117-4" tabindex="-1"></a>fruechte_einkauf <span class="ot">&lt;-</span> <span class="fu">rbind</span>(nicht_vorraetig, vorraetig)</span>
<span id="cb117-5"><a href="r-basics-ii-datenstrukturen.html#cb117-5" tabindex="-1"></a>fruechte_einkauf</span></code></pre></div>
<pre><code>#&gt;                 [,1]     [,2]      [,3]   
#&gt; nicht_vorraetig &quot;Banane&quot; &quot;Orange&quot;  &quot;Birne&quot;
#&gt; vorraetig       &quot;Apfel&quot;  &quot;Erbeere&quot; &quot;Kiwi&quot;</code></pre>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="r-basics-ii-datenstrukturen.html#cb119-1" tabindex="-1"></a><span class="co"># Matrix spaltenweise erstellen mit der Funktion cbind()</span></span>
<span id="cb119-2"><a href="r-basics-ii-datenstrukturen.html#cb119-2" tabindex="-1"></a>nicht_vorraetig <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Orange&quot;</span>, <span class="st">&quot;Birne&quot;</span>)</span>
<span id="cb119-3"><a href="r-basics-ii-datenstrukturen.html#cb119-3" tabindex="-1"></a>vorraetig <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Erbeere&quot;</span>, <span class="st">&quot;Kiwi&quot;</span>) </span>
<span id="cb119-4"><a href="r-basics-ii-datenstrukturen.html#cb119-4" tabindex="-1"></a>fruechte_einkauf <span class="ot">&lt;-</span> <span class="fu">cbind</span>(nicht_vorraetig, vorraetig)</span>
<span id="cb119-5"><a href="r-basics-ii-datenstrukturen.html#cb119-5" tabindex="-1"></a>fruechte_einkauf </span></code></pre></div>
<pre><code>#&gt;      nicht_vorraetig vorraetig
#&gt; [1,] &quot;Banane&quot;        &quot;Apfel&quot;  
#&gt; [2,] &quot;Orange&quot;        &quot;Erbeere&quot;
#&gt; [3,] &quot;Birne&quot;         &quot;Kiwi&quot;</code></pre>
<p>Matrizen können auch in Dataframes umgewandelt werden und umgekehrt. Das behandeln wir im Abschnitt “Dataframes”.</p>
<div id="operationen-auf-matrizen" class="section level3 hasAnchor" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> Operationen auf Matrizen<a href="r-basics-ii-datenstrukturen.html#operationen-auf-matrizen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="r-basics-ii-datenstrukturen.html#cb121-1" tabindex="-1"></a><span class="co"># Zugriff auf Zeile 1</span></span>
<span id="cb121-2"><a href="r-basics-ii-datenstrukturen.html#cb121-2" tabindex="-1"></a>fruechte[<span class="dv">1</span>,]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;  &quot;Banane&quot; &quot;Birne&quot;</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="r-basics-ii-datenstrukturen.html#cb123-1" tabindex="-1"></a><span class="co"># Zugriff auf Spalte 1</span></span>
<span id="cb123-2"><a href="r-basics-ii-datenstrukturen.html#cb123-2" tabindex="-1"></a>fruechte[,<span class="dv">1</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;  &quot;Orange&quot;</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="r-basics-ii-datenstrukturen.html#cb125-1" tabindex="-1"></a><span class="co"># Zugriff auf das Element in Zeile 1 und Spalte 2</span></span>
<span id="cb125-2"><a href="r-basics-ii-datenstrukturen.html#cb125-2" tabindex="-1"></a>fruechte[<span class="dv">1</span>,<span class="dv">2</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Banane&quot;</code></pre>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="r-basics-ii-datenstrukturen.html#cb127-1" tabindex="-1"></a><span class="co"># Zugriff auf Spalte mit dem Namen &quot;vorraetig&quot;</span></span>
<span id="cb127-2"><a href="r-basics-ii-datenstrukturen.html#cb127-2" tabindex="-1"></a>fruechte_einkauf[, <span class="st">&quot;vorraetig&quot;</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;   &quot;Erbeere&quot; &quot;Kiwi&quot;</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="r-basics-ii-datenstrukturen.html#cb129-1" tabindex="-1"></a><span class="co"># Zeilen nachträglich (um)benennen</span></span>
<span id="cb129-2"><a href="r-basics-ii-datenstrukturen.html#cb129-2" tabindex="-1"></a><span class="fu">rownames</span>(fruechte_einkauf) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;kuehlschrank&quot;</span>, <span class="st">&quot;vorratskammer&quot;</span>, <span class="st">&quot;regal&quot;</span>)</span>
<span id="cb129-3"><a href="r-basics-ii-datenstrukturen.html#cb129-3" tabindex="-1"></a>fruechte_einkauf</span></code></pre></div>
<pre><code>#&gt;               nicht_vorraetig vorraetig
#&gt; kuehlschrank  &quot;Banane&quot;        &quot;Apfel&quot;  
#&gt; vorratskammer &quot;Orange&quot;        &quot;Erbeere&quot;
#&gt; regal         &quot;Birne&quot;         &quot;Kiwi&quot;</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="r-basics-ii-datenstrukturen.html#cb131-1" tabindex="-1"></a><span class="co"># Zugriff auf Zeile mit dem Namen &quot;kuehlschrank&quot;</span></span>
<span id="cb131-2"><a href="r-basics-ii-datenstrukturen.html#cb131-2" tabindex="-1"></a>fruechte_einkauf[<span class="st">&quot;kuehlschrank&quot;</span>, ]</span></code></pre></div>
<pre><code>#&gt; nicht_vorraetig       vorraetig 
#&gt;        &quot;Banane&quot;         &quot;Apfel&quot;</code></pre>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="r-basics-ii-datenstrukturen.html#cb133-1" tabindex="-1"></a><span class="co"># Zugriff auf alle Elemente mit dem Wert &quot;Banane&quot;</span></span>
<span id="cb133-2"><a href="r-basics-ii-datenstrukturen.html#cb133-2" tabindex="-1"></a>fruechte[fruechte <span class="sc">==</span> <span class="st">&quot;Banane&quot;</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Banane&quot;</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="r-basics-ii-datenstrukturen.html#cb135-1" tabindex="-1"></a><span class="co"># Spalten nachträglich (um)benennen</span></span>
<span id="cb135-2"><a href="r-basics-ii-datenstrukturen.html#cb135-2" tabindex="-1"></a><span class="fu">colnames</span>(fruechte_einkauf) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;vorhanden&quot;</span>, <span class="st">&quot;nicht_vorhanden&quot;</span>)</span></code></pre></div>
<p>Da Matrizen aus Vektoren bestehen, können wie auf Vektoren auch auf Matrizen die bereits bekannten Operatoren angewendet werden. Dabei wird wieder der Mechanismus der Vektorisierung aktiviert: Wenn Operatoren auf Matrizen angewandt werden, wird die Operation automatisch elementweise auf jedes Element der Matrix angewandt:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="r-basics-ii-datenstrukturen.html#cb136-1" tabindex="-1"></a>mat_1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>), <span class="at">ncol=</span><span class="dv">2</span>)</span>
<span id="cb136-2"><a href="r-basics-ii-datenstrukturen.html#cb136-2" tabindex="-1"></a>mat_1 <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    3    4
#&gt; [2,]    3    4</code></pre>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="r-basics-ii-datenstrukturen.html#cb138-1" tabindex="-1"></a><span class="co"># Das geht auch mit zwei Matrizen </span></span>
<span id="cb138-2"><a href="r-basics-ii-datenstrukturen.html#cb138-2" tabindex="-1"></a>mat_2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>), <span class="at">ncol=</span><span class="dv">2</span>)</span>
<span id="cb138-3"><a href="r-basics-ii-datenstrukturen.html#cb138-3" tabindex="-1"></a>mat_1 <span class="sc">+</span> mat_2</span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    5    6
#&gt; [2,]    5    6</code></pre>
<p>Matrizen können auch kombiniert werden. Wir haben ja bereits beim Erstellen von Matrizen aus bereits existierenden Vektoren die Funktionen <code>rbind()</code> und <code>cbind()</code> verwendet.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="r-basics-ii-datenstrukturen.html#cb140-1" tabindex="-1"></a><span class="co"># Matrizen zeilenweise kombinieren</span></span>
<span id="cb140-2"><a href="r-basics-ii-datenstrukturen.html#cb140-2" tabindex="-1"></a>mat_3 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(mat_1, mat_2)</span>
<span id="cb140-3"><a href="r-basics-ii-datenstrukturen.html#cb140-3" tabindex="-1"></a>mat_3</span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    1    2
#&gt; [2,]    1    2
#&gt; [3,]    4    4
#&gt; [4,]    4    4</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="r-basics-ii-datenstrukturen.html#cb142-1" tabindex="-1"></a><span class="co"># Matrizen spaltenweise kombinieren</span></span>
<span id="cb142-2"><a href="r-basics-ii-datenstrukturen.html#cb142-2" tabindex="-1"></a>mat_4 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(mat_1, mat_2)</span>
<span id="cb142-3"><a href="r-basics-ii-datenstrukturen.html#cb142-3" tabindex="-1"></a>mat_4</span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    1    2    4    4
#&gt; [2,]    1    2    4    4</code></pre>
<p>Eine Voraussetzung dafür, dass Matrizen kombiniert werden können, ist, dass sie dieselbe Anzahl von Zeilen und Spalten (also dieselbe Dimension) haben. Die beiden Matrizen <code>mat_3</code> und <code>mat_4</code> haben beispielsweise umgekehrte Dimensionen: <code>mat_3</code> ist eine 4x2-Matrix, und <code>mat_4</code> ist eine 2x4-Matrix. Wenn die beiden Matrizen kombiniert werden sollen, müssen sie erst in dieselbe Form gebracht werden. Das geht ganz einfach mithilfe der Funktion <code>t()</code>. Das <code>t</code> steht dabei für “Transponieren”.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="r-basics-ii-datenstrukturen.html#cb144-1" tabindex="-1"></a><span class="co"># Matrix mat_3 transponieren</span></span>
<span id="cb144-2"><a href="r-basics-ii-datenstrukturen.html#cb144-2" tabindex="-1"></a>mat_3t <span class="ot">&lt;-</span> <span class="fu">t</span>(mat_3)</span>
<span id="cb144-3"><a href="r-basics-ii-datenstrukturen.html#cb144-3" tabindex="-1"></a><span class="co"># Matrix mat_4 und transponierte Matrix kombinieren: </span></span>
<span id="cb144-4"><a href="r-basics-ii-datenstrukturen.html#cb144-4" tabindex="-1"></a><span class="fu">cbind</span>(mat_3t, mat_4)</span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
#&gt; [1,]    1    1    4    4    1    2    4    4
#&gt; [2,]    2    2    4    4    1    2    4    4</code></pre>
<div class="task">
<p>Verständnisfragen:</p>
<ul>
<li>Welche Dimension hat die Matrix <code>fruechte_einkauf</code>?</li>
<li>Welchen Datentyp haben die Elemente der Matrix <code>fruechte_einkauf</code>?</li>
<li>Wie kann man eine Matrix mit fünf Spalten erstellen?</li>
</ul>
</div>
</div>
</div>
<div id="arrays" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Arrays<a href="r-basics-ii-datenstrukturen.html#arrays" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Ein Array ermöglicht, einfach gesagt, mehrere Matrizen von gleicher Größe in einer einzigen Datenstruktur zu “stapeln”, wobei jede Matrix eine eigene “Schicht” oder “Ebene” im Array bildet.</strong>
Auch Arrays haben eine Dimension, allerdings ist damit in Bezug auf Arrays etwas anderes gemeint als in Bezug auf Matrizen. Während die Dimension einer Matrix die Anzahl ihrer Zeilen und Spalten beschreibt, hat der Dimensionsbegriff bei Arrays eine erweiterte Bedeutung. Bei einem Array bezieht sich die Dimension auf die Anzahl der “Richtungen” oder “Achsen”, in denen die Daten organisiert sind. Dies kann die Anzahl der Zeilen, Spalten, “Schichten” und weiterer Organisationsweisen in höherdimensionalen Arrays umfassen. Jede dieser “Richtungen” hat eine bestimmte Größe, das heißt eine festgelegte Anzahl von Elementen.</p>
<p><img src="images/array.png" width="612" /></p>
<p>Arrays werden mithilfe der Funktion <code>array()</code> erstellt:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="r-basics-ii-datenstrukturen.html#cb146-1" tabindex="-1"></a><span class="co"># Daten für das Array</span></span>
<span id="cb146-2"><a href="r-basics-ii-datenstrukturen.html#cb146-2" tabindex="-1"></a>fruechte_daten <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb146-3"><a href="r-basics-ii-datenstrukturen.html#cb146-3" tabindex="-1"></a>    <span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Orange&quot;</span>, <span class="st">&quot;Birne&quot;</span>, </span>
<span id="cb146-4"><a href="r-basics-ii-datenstrukturen.html#cb146-4" tabindex="-1"></a>    <span class="st">&quot;Erbeere&quot;</span>, <span class="st">&quot;Melone&quot;</span>, <span class="st">&quot;Kiwi&quot;</span>, </span>
<span id="cb146-5"><a href="r-basics-ii-datenstrukturen.html#cb146-5" tabindex="-1"></a>    <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Traube&quot;</span>, <span class="st">&quot;Apfel&quot;</span>, </span>
<span id="cb146-6"><a href="r-basics-ii-datenstrukturen.html#cb146-6" tabindex="-1"></a>    <span class="st">&quot;Papaya&quot;</span>, <span class="st">&quot;Quitte&quot;</span>, <span class="st">&quot;Mango&quot;</span></span>
<span id="cb146-7"><a href="r-basics-ii-datenstrukturen.html#cb146-7" tabindex="-1"></a>)</span>
<span id="cb146-8"><a href="r-basics-ii-datenstrukturen.html#cb146-8" tabindex="-1"></a></span>
<span id="cb146-9"><a href="r-basics-ii-datenstrukturen.html#cb146-9" tabindex="-1"></a><span class="co"># Erstellen eines 3D-Arrays mit 2 Zeilen, 3 Spalten und 2 &quot;Ebenen&quot; (jede Ebene ist eine separate Matrix)</span></span>
<span id="cb146-10"><a href="r-basics-ii-datenstrukturen.html#cb146-10" tabindex="-1"></a>fruechte_array <span class="ot">&lt;-</span> <span class="fu">array</span>(fruechte_daten, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>))</span>
<span id="cb146-11"><a href="r-basics-ii-datenstrukturen.html#cb146-11" tabindex="-1"></a></span>
<span id="cb146-12"><a href="r-basics-ii-datenstrukturen.html#cb146-12" tabindex="-1"></a><span class="co"># Ausgabe des Arrays</span></span>
<span id="cb146-13"><a href="r-basics-ii-datenstrukturen.html#cb146-13" tabindex="-1"></a><span class="fu">print</span>(fruechte_array)</span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1]     [,2]      [,3]    
#&gt; [1,] &quot;Apfel&quot;  &quot;Birne&quot;   &quot;Melone&quot;
#&gt; [2,] &quot;Orange&quot; &quot;Erbeere&quot; &quot;Kiwi&quot;  
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1]     [,2]     [,3]    
#&gt; [1,] &quot;Banane&quot; &quot;Apfel&quot;  &quot;Quitte&quot;
#&gt; [2,] &quot;Traube&quot; &quot;Papaya&quot; &quot;Mango&quot;</code></pre>
<p>Die Dimension des Arrays <code>fruechte_array</code> lässt sich an der Länge des Vektors <code>dim=c(2, 3, 2)</code> ablesen: Da der Vektor drei Elemente hat, handelt es sich um ein dreidimensionales Array. Das erste Element des Vektors <code>dim</code> legt fest, dass jede Matrix zwei Zeilen hat, das zweite Element legt fest, dass jede Matrix drei Spalten hat, und das dritte Element legt fest, dass es zwei Matrizen gibt.</p>
<div id="operationen-auf-arrays" class="section level3 hasAnchor" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> Operationen auf Arrays<a href="r-basics-ii-datenstrukturen.html#operationen-auf-arrays" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="r-basics-ii-datenstrukturen.html#cb148-1" tabindex="-1"></a><span class="co"># Zugriff auf die erste Matrix </span></span>
<span id="cb148-2"><a href="r-basics-ii-datenstrukturen.html#cb148-2" tabindex="-1"></a>fruechte_array[,,<span class="dv">1</span>]</span></code></pre></div>
<pre><code>#&gt;      [,1]     [,2]      [,3]    
#&gt; [1,] &quot;Apfel&quot;  &quot;Birne&quot;   &quot;Melone&quot;
#&gt; [2,] &quot;Orange&quot; &quot;Erbeere&quot; &quot;Kiwi&quot;</code></pre>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="r-basics-ii-datenstrukturen.html#cb150-1" tabindex="-1"></a><span class="co"># Zugriff auf die zweite Spalte der ersten Matrix </span></span>
<span id="cb150-2"><a href="r-basics-ii-datenstrukturen.html#cb150-2" tabindex="-1"></a>fruechte_array[,<span class="dv">2</span>,<span class="dv">1</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Birne&quot;   &quot;Erbeere&quot;</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="r-basics-ii-datenstrukturen.html#cb152-1" tabindex="-1"></a><span class="co"># Zugriff auf das Element in der ersten Zeile und zweiten Spalte der ersten Matrix </span></span>
<span id="cb152-2"><a href="r-basics-ii-datenstrukturen.html#cb152-2" tabindex="-1"></a>fruechte_array[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Birne&quot;</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="r-basics-ii-datenstrukturen.html#cb154-1" tabindex="-1"></a><span class="co"># Dimensionen benennen </span></span>
<span id="cb154-2"><a href="r-basics-ii-datenstrukturen.html#cb154-2" tabindex="-1"></a><span class="fu">dimnames</span>(fruechte_array) <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb154-3"><a href="r-basics-ii-datenstrukturen.html#cb154-3" tabindex="-1"></a>  <span class="at">Vorratsstatus =</span> <span class="fu">c</span>(<span class="st">&quot;vorraetig&quot;</span>, <span class="st">&quot;nicht_vorraetig&quot;</span>),</span>
<span id="cb154-4"><a href="r-basics-ii-datenstrukturen.html#cb154-4" tabindex="-1"></a>  <span class="at">Vorratsort =</span> <span class="fu">c</span>(<span class="st">&quot;kuehlschrank&quot;</span>, <span class="st">&quot;vorratskammer&quot;</span>, <span class="st">&quot;regal&quot;</span>),</span>
<span id="cb154-5"><a href="r-basics-ii-datenstrukturen.html#cb154-5" tabindex="-1"></a>  <span class="at">Haus =</span> <span class="fu">c</span>(<span class="st">&quot;Wohnhaus&quot;</span>, <span class="st">&quot;Ferienhaus&quot;</span>)</span>
<span id="cb154-6"><a href="r-basics-ii-datenstrukturen.html#cb154-6" tabindex="-1"></a>)</span>
<span id="cb154-7"><a href="r-basics-ii-datenstrukturen.html#cb154-7" tabindex="-1"></a>fruechte_array</span></code></pre></div>
<pre><code>#&gt; , , Haus = Wohnhaus
#&gt; 
#&gt;                  Vorratsort
#&gt; Vorratsstatus     kuehlschrank vorratskammer regal   
#&gt;   vorraetig       &quot;Apfel&quot;      &quot;Birne&quot;       &quot;Melone&quot;
#&gt;   nicht_vorraetig &quot;Orange&quot;     &quot;Erbeere&quot;     &quot;Kiwi&quot;  
#&gt; 
#&gt; , , Haus = Ferienhaus
#&gt; 
#&gt;                  Vorratsort
#&gt; Vorratsstatus     kuehlschrank vorratskammer regal   
#&gt;   vorraetig       &quot;Banane&quot;     &quot;Apfel&quot;       &quot;Quitte&quot;
#&gt;   nicht_vorraetig &quot;Traube&quot;     &quot;Papaya&quot;      &quot;Mango&quot;</code></pre>
</div>
</div>
<div id="dataframes" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Dataframes<a href="r-basics-ii-datenstrukturen.html#dataframes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Dataframes werden zur Darstellung tabellarischer Daten verwendet.</strong> Sie ähneln auf den ersten Blick Matrizen, jedoch können sie Elemente unterschiedlichen Typs beinhalten: <strong>Jede Spalte eines Dataframes ist ein Vektor, aber anders als bei Matrizen können die Zeilen nicht als Vektoren aufgefasst werden, da die Elemente in den verschiedenen Spalten unterschiedliche Datentypen haben können.</strong> <strong>Genauer gesagt ist ein Dataframe also eigentlich eine Art von Liste, bei der jedes Element dieselbe Länge haben muss</strong>: Eine Liste mit fünf Elementen vom Typ numeric könnte bespielsweise genausogut als Dataframe mit einer Zeile und fünf Spalten dargestellt werden. Eine Liste mit vier Elementen, wobei die Elemente Vektoren mit jeweils zwei Elementen sind, könnte als Dataframe mit zwei Zeilen und vier Spalten dargestellt werden.</p>
<p><img src="images/dataframe.png" width="1004" /></p>
<p>Weil die Spalten eines Dataframes Vektoren sind, kann man Dataframes “spaltenweise” erstellen. Dazu erstellt man zunächst entweder einen Vektor für jede Spalte und kombiniert diese dann mithilfe der Funktion <code>data.frame()</code> in ein Dataframe-Objekt:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="r-basics-ii-datenstrukturen.html#cb156-1" tabindex="-1"></a><span class="co"># Dataframe aus Vektoren erstellen: Variante 1 </span></span>
<span id="cb156-2"><a href="r-basics-ii-datenstrukturen.html#cb156-2" tabindex="-1"></a>fruechte <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Banane&quot;</span>)</span>
<span id="cb156-3"><a href="r-basics-ii-datenstrukturen.html#cb156-3" tabindex="-1"></a>anzahl <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">32</span>, <span class="dv">0</span>)</span>
<span id="cb156-4"><a href="r-basics-ii-datenstrukturen.html#cb156-4" tabindex="-1"></a>vorraetig <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb156-5"><a href="r-basics-ii-datenstrukturen.html#cb156-5" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(fruechte, anzahl, vorraetig)</span>
<span id="cb156-6"><a href="r-basics-ii-datenstrukturen.html#cb156-6" tabindex="-1"></a><span class="fu">print</span>(df)</span></code></pre></div>
<pre><code>#&gt;   fruechte anzahl vorraetig
#&gt; 1    Apfel     20      TRUE
#&gt; 2 Erdbeere     32      TRUE
#&gt; 3   Banane      0     FALSE</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="r-basics-ii-datenstrukturen.html#cb158-1" tabindex="-1"></a><span class="co"># Dataframe aus Vektoren erstellen: Variante 2</span></span>
<span id="cb158-2"><a href="r-basics-ii-datenstrukturen.html#cb158-2" tabindex="-1"></a>fruechte_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">frucht =</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Banane&quot;</span>),</span>
<span id="cb158-3"><a href="r-basics-ii-datenstrukturen.html#cb158-3" tabindex="-1"></a>                          <span class="at">anzahl =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">32</span>, <span class="dv">0</span>),</span>
<span id="cb158-4"><a href="r-basics-ii-datenstrukturen.html#cb158-4" tabindex="-1"></a>                          <span class="at">vorraetig =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb158-5"><a href="r-basics-ii-datenstrukturen.html#cb158-5" tabindex="-1"></a>                 )</span>
<span id="cb158-6"><a href="r-basics-ii-datenstrukturen.html#cb158-6" tabindex="-1"></a><span class="fu">print</span>(fruechte_df)</span></code></pre></div>
<pre><code>#&gt;     frucht anzahl vorraetig
#&gt; 1    Apfel     20      TRUE
#&gt; 2 Erdbeere     32      TRUE
#&gt; 3   Banane      0     FALSE</code></pre>
<p>Oder man erstellt eine Liste, bei der jedes Element ein Vektor ist und stellt die Liste anschließend mit der Funktion <code>as.data.frame()</code> als Dataframe dar:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="r-basics-ii-datenstrukturen.html#cb160-1" tabindex="-1"></a><span class="co"># Dataframe aus einer Liste erstellen</span></span>
<span id="cb160-2"><a href="r-basics-ii-datenstrukturen.html#cb160-2" tabindex="-1"></a>liste_von_vektoren <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">frucht =</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>, <span class="st">&quot;Banane&quot;</span>),</span>
<span id="cb160-3"><a href="r-basics-ii-datenstrukturen.html#cb160-3" tabindex="-1"></a>                           <span class="at">anzahl =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">32</span>, <span class="dv">0</span>),</span>
<span id="cb160-4"><a href="r-basics-ii-datenstrukturen.html#cb160-4" tabindex="-1"></a>                           <span class="at">vorraetig =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb160-5"><a href="r-basics-ii-datenstrukturen.html#cb160-5" tabindex="-1"></a>              )</span>
<span id="cb160-6"><a href="r-basics-ii-datenstrukturen.html#cb160-6" tabindex="-1"></a>fruechte_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(liste_von_vektoren)</span>
<span id="cb160-7"><a href="r-basics-ii-datenstrukturen.html#cb160-7" tabindex="-1"></a><span class="fu">print</span>(fruechte_df) </span></code></pre></div>
<pre><code>#&gt;     frucht anzahl vorraetig
#&gt; 1    Apfel     20      TRUE
#&gt; 2 Erdbeere     32      TRUE
#&gt; 3   Banane      0     FALSE</code></pre>
<p>Dataframes können auch aus Matrizen erstellt werden, zum Beispiel aus unserer Matrix <code>fruechte_einkauf</code>:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="r-basics-ii-datenstrukturen.html#cb162-1" tabindex="-1"></a><span class="co"># Dataframe aus Matrix erstellen </span></span>
<span id="cb162-2"><a href="r-basics-ii-datenstrukturen.html#cb162-2" tabindex="-1"></a>fruechte_einkauf <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">&quot;Birne&quot;</span>, <span class="st">&quot;Orange&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Kiwi&quot;</span>, <span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Erdbeere&quot;</span>), </span>
<span id="cb162-3"><a href="r-basics-ii-datenstrukturen.html#cb162-3" tabindex="-1"></a>                           <span class="at">ncol =</span> <span class="dv">2</span>, </span>
<span id="cb162-4"><a href="r-basics-ii-datenstrukturen.html#cb162-4" tabindex="-1"></a>                           <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="cn">NULL</span>,</span>
<span id="cb162-5"><a href="r-basics-ii-datenstrukturen.html#cb162-5" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">&quot;nicht_vorraetig&quot;</span>, <span class="st">&quot;vorraetig&quot;</span>)))</span>
<span id="cb162-6"><a href="r-basics-ii-datenstrukturen.html#cb162-6" tabindex="-1"></a></span>
<span id="cb162-7"><a href="r-basics-ii-datenstrukturen.html#cb162-7" tabindex="-1"></a>fruechte_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(fruechte_einkauf)</span>
<span id="cb162-8"><a href="r-basics-ii-datenstrukturen.html#cb162-8" tabindex="-1"></a>fruechte_df</span></code></pre></div>
<pre><code>#&gt;   nicht_vorraetig vorraetig
#&gt; 1           Birne      Kiwi
#&gt; 2          Orange     Apfel
#&gt; 3          Banane  Erdbeere</code></pre>
<p>Allerdings sind in diesem Fall noch einige Operationen notwendig, um zusätzliche Informationen hinzuzufügen und den Dataframe in die gewünschte Form zu bringen. In einem Dataframe wäre es üblich, die Früchte in einer Spalte aufzulisten und für den Vorratsstatus wie in den Beispielen zuvor eine eigene Spalte anzulegen:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="r-basics-ii-datenstrukturen.html#cb164-1" tabindex="-1"></a><span class="co"># Dataframe mithilfe der Funktion stack() umformen </span></span>
<span id="cb164-2"><a href="r-basics-ii-datenstrukturen.html#cb164-2" tabindex="-1"></a>fruechte_df <span class="ot">&lt;-</span> <span class="fu">stack</span>(fruechte_df)</span>
<span id="cb164-3"><a href="r-basics-ii-datenstrukturen.html#cb164-3" tabindex="-1"></a>fruechte_df</span></code></pre></div>
<pre><code>#&gt;     values             ind
#&gt; 1    Birne nicht_vorraetig
#&gt; 2   Orange nicht_vorraetig
#&gt; 3   Banane nicht_vorraetig
#&gt; 4     Kiwi       vorraetig
#&gt; 5    Apfel       vorraetig
#&gt; 6 Erdbeere       vorraetig</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="r-basics-ii-datenstrukturen.html#cb166-1" tabindex="-1"></a><span class="co"># Elemente in Spalte ind in Booleans umwandeln </span></span>
<span id="cb166-2"><a href="r-basics-ii-datenstrukturen.html#cb166-2" tabindex="-1"></a>fruechte_df<span class="sc">$</span>ind <span class="ot">&lt;-</span> fruechte_df<span class="sc">$</span>ind <span class="sc">==</span> <span class="st">&quot;vorraetig&quot;</span></span>
<span id="cb166-3"><a href="r-basics-ii-datenstrukturen.html#cb166-3" tabindex="-1"></a><span class="co"># Auf dieselbe Weise kann auch eine neue Spalte hinzugefügt werden </span></span>
<span id="cb166-4"><a href="r-basics-ii-datenstrukturen.html#cb166-4" tabindex="-1"></a><span class="co"># fruechte_df$vorraetig &lt;- fruechte_df$ind == &quot;vorraetig&quot;</span></span>
<span id="cb166-5"><a href="r-basics-ii-datenstrukturen.html#cb166-5" tabindex="-1"></a><span class="co"># Alternativ mit ifelse-Anweisung (--&gt; nächste Woche!)</span></span>
<span id="cb166-6"><a href="r-basics-ii-datenstrukturen.html#cb166-6" tabindex="-1"></a><span class="co"># fruechte_df$ind &lt;- ifelse(fruechte_df$ind == &quot;vorraetig&quot;, TRUE, FALSE)</span></span>
<span id="cb166-7"><a href="r-basics-ii-datenstrukturen.html#cb166-7" tabindex="-1"></a>fruechte_df</span></code></pre></div>
<pre><code>#&gt;     values   ind
#&gt; 1    Birne FALSE
#&gt; 2   Orange FALSE
#&gt; 3   Banane FALSE
#&gt; 4     Kiwi  TRUE
#&gt; 5    Apfel  TRUE
#&gt; 6 Erdbeere  TRUE</code></pre>
<p>Der Dataframe ist immer noch nicht ideal. Zum Beispiel sind die Spaltennamen nicht besonders intuitiv und sollten lieber umbenannt werden, und es fehlt noch die Spalte <code>anzahl</code> mit der Anzahl der vorrätigen Früchte.</p>
<div id="operationen-auf-dataframes" class="section level3 hasAnchor" number="2.7.1">
<h3><span class="header-section-number">2.7.1</span> Operationen auf Dataframes<a href="r-basics-ii-datenstrukturen.html#operationen-auf-dataframes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="r-basics-ii-datenstrukturen.html#cb168-1" tabindex="-1"></a><span class="co"># Spalten umbenennen - Option 1</span></span>
<span id="cb168-2"><a href="r-basics-ii-datenstrukturen.html#cb168-2" tabindex="-1"></a><span class="fu">colnames</span>(fruechte_df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;frucht&quot;</span>, <span class="st">&quot;vorraetig&quot;</span>)</span>
<span id="cb168-3"><a href="r-basics-ii-datenstrukturen.html#cb168-3" tabindex="-1"></a><span class="co"># Spalten umbenennen - Option 2</span></span>
<span id="cb168-4"><a href="r-basics-ii-datenstrukturen.html#cb168-4" tabindex="-1"></a><span class="co"># fruechte_df$values &lt;- fruechte_df$frucht</span></span>
<span id="cb168-5"><a href="r-basics-ii-datenstrukturen.html#cb168-5" tabindex="-1"></a><span class="co"># fruechte_df$ind &lt;- fruechte_df$vorraetig</span></span>
<span id="cb168-6"><a href="r-basics-ii-datenstrukturen.html#cb168-6" tabindex="-1"></a></span>
<span id="cb168-7"><a href="r-basics-ii-datenstrukturen.html#cb168-7" tabindex="-1"></a><span class="co"># Spalte hinzufügen</span></span>
<span id="cb168-8"><a href="r-basics-ii-datenstrukturen.html#cb168-8" tabindex="-1"></a>fruechte_df<span class="sc">$</span>anzahl <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">20</span>, <span class="dv">32</span>)</span>
<span id="cb168-9"><a href="r-basics-ii-datenstrukturen.html#cb168-9" tabindex="-1"></a>fruechte_df</span></code></pre></div>
<pre><code>#&gt;     frucht vorraetig anzahl
#&gt; 1    Birne     FALSE      0
#&gt; 2   Orange     FALSE      0
#&gt; 3   Banane     FALSE      0
#&gt; 4     Kiwi      TRUE      5
#&gt; 5    Apfel      TRUE     20
#&gt; 6 Erdbeere      TRUE     32</code></pre>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="r-basics-ii-datenstrukturen.html#cb170-1" tabindex="-1"></a><span class="co"># Anordnung der Spalten ändern</span></span>
<span id="cb170-2"><a href="r-basics-ii-datenstrukturen.html#cb170-2" tabindex="-1"></a>fruechte_df <span class="ot">&lt;-</span> fruechte_df[<span class="fu">c</span>(<span class="st">&quot;frucht&quot;</span>, <span class="st">&quot;anzahl&quot;</span>, <span class="st">&quot;vorraetig&quot;</span>)]</span>
<span id="cb170-3"><a href="r-basics-ii-datenstrukturen.html#cb170-3" tabindex="-1"></a>fruechte_df</span></code></pre></div>
<pre><code>#&gt;     frucht anzahl vorraetig
#&gt; 1    Birne      0     FALSE
#&gt; 2   Orange      0     FALSE
#&gt; 3   Banane      0     FALSE
#&gt; 4     Kiwi      5      TRUE
#&gt; 5    Apfel     20      TRUE
#&gt; 6 Erdbeere     32      TRUE</code></pre>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="r-basics-ii-datenstrukturen.html#cb172-1" tabindex="-1"></a><span class="co"># Zugriff auf eine Spalte über den Namen der Spalte - Option 1</span></span>
<span id="cb172-2"><a href="r-basics-ii-datenstrukturen.html#cb172-2" tabindex="-1"></a>fruechte_df<span class="sc">$</span>frucht</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Birne&quot;    &quot;Orange&quot;   &quot;Banane&quot;   &quot;Kiwi&quot;     &quot;Apfel&quot;    &quot;Erdbeere&quot;</code></pre>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="r-basics-ii-datenstrukturen.html#cb174-1" tabindex="-1"></a><span class="co"># Zugriff auf eine Spalte über den Namen der Spalte - Option 2</span></span>
<span id="cb174-2"><a href="r-basics-ii-datenstrukturen.html#cb174-2" tabindex="-1"></a>fruechte_df[[<span class="st">&quot;frucht&quot;</span>]]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Birne&quot;    &quot;Orange&quot;   &quot;Banane&quot;   &quot;Kiwi&quot;     &quot;Apfel&quot;    &quot;Erdbeere&quot;</code></pre>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="r-basics-ii-datenstrukturen.html#cb176-1" tabindex="-1"></a><span class="co"># Zugriff auf einzelne Elemente über den Spaltennamen und den Index der Zeile</span></span>
<span id="cb176-2"><a href="r-basics-ii-datenstrukturen.html#cb176-2" tabindex="-1"></a>fruechte_df<span class="sc">$</span>frucht[<span class="dv">3</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Banane&quot;</code></pre>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="r-basics-ii-datenstrukturen.html#cb178-1" tabindex="-1"></a>fruechte_df<span class="sc">$</span>frucht[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>)]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Birne&quot; &quot;Kiwi&quot;</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="r-basics-ii-datenstrukturen.html#cb180-1" tabindex="-1"></a>fruechte_df<span class="sc">$</span>frucht[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Birne&quot;  &quot;Orange&quot; &quot;Banane&quot; &quot;Kiwi&quot;</code></pre>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="r-basics-ii-datenstrukturen.html#cb182-1" tabindex="-1"></a><span class="co"># Zugriff auf eine Spalte über die Indexposition</span></span>
<span id="cb182-2"><a href="r-basics-ii-datenstrukturen.html#cb182-2" tabindex="-1"></a>fruechte_df[,<span class="dv">1</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Birne&quot;    &quot;Orange&quot;   &quot;Banane&quot;   &quot;Kiwi&quot;     &quot;Apfel&quot;    &quot;Erdbeere&quot;</code></pre>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="r-basics-ii-datenstrukturen.html#cb184-1" tabindex="-1"></a><span class="co"># Zugriff auf eine Zeile</span></span>
<span id="cb184-2"><a href="r-basics-ii-datenstrukturen.html#cb184-2" tabindex="-1"></a>fruechte_df[<span class="dv">1</span>,]</span></code></pre></div>
<pre><code>#&gt;   frucht anzahl vorraetig
#&gt; 1  Birne      0     FALSE</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="r-basics-ii-datenstrukturen.html#cb186-1" tabindex="-1"></a><span class="co"># Zugriff auf das Element in Zeile 1 und Spalte 2</span></span>
<span id="cb186-2"><a href="r-basics-ii-datenstrukturen.html#cb186-2" tabindex="-1"></a>fruechte_df[<span class="dv">1</span>,<span class="dv">2</span>]</span></code></pre></div>
<pre><code>#&gt; [1] 0</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="r-basics-ii-datenstrukturen.html#cb188-1" tabindex="-1"></a><span class="co"># Zugriff auf alle Zeilen, in denen in der Spalte anzahl der Wert 20 steht</span></span>
<span id="cb188-2"><a href="r-basics-ii-datenstrukturen.html#cb188-2" tabindex="-1"></a>fruechte_df[fruechte_df<span class="sc">$</span>anzahl <span class="sc">==</span> <span class="dv">20</span>, ]</span></code></pre></div>
<pre><code>#&gt;   frucht anzahl vorraetig
#&gt; 5  Apfel     20      TRUE</code></pre>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="r-basics-ii-datenstrukturen.html#cb190-1" tabindex="-1"></a><span class="co"># Zugriff auf alle Elemente in der Spalte frucht, für die in der Spalte anzahl der Wert 20 steht</span></span>
<span id="cb190-2"><a href="r-basics-ii-datenstrukturen.html#cb190-2" tabindex="-1"></a>fruechte_df<span class="sc">$</span>frucht[fruechte_df<span class="sc">$</span>anzahl <span class="sc">==</span> <span class="dv">20</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Apfel&quot;</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="r-basics-ii-datenstrukturen.html#cb192-1" tabindex="-1"></a><span class="co"># Zugriff auf alle Elemente in der Spalte frucht, für die in der Spalte anzahl ein Wert kleiner als 20 steht</span></span>
<span id="cb192-2"><a href="r-basics-ii-datenstrukturen.html#cb192-2" tabindex="-1"></a>fruechte_df<span class="sc">$</span>frucht[fruechte_df<span class="sc">$</span>anzahl <span class="sc">&lt;</span> <span class="dv">20</span>]</span></code></pre></div>
<pre><code>#&gt; [1] &quot;Birne&quot;  &quot;Orange&quot; &quot;Banane&quot; &quot;Kiwi&quot;</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="r-basics-ii-datenstrukturen.html#cb194-1" tabindex="-1"></a><span class="co"># Spalte entfernen: hier auskommentiert, da wir die Spalte für unser Beispiel behalten wollen</span></span>
<span id="cb194-2"><a href="r-basics-ii-datenstrukturen.html#cb194-2" tabindex="-1"></a><span class="co"># fruechte_df$anzahl &lt;- NULL </span></span></code></pre></div>
<p>Zugriffsoperationen der Art <code>fruechte_df$frucht[fruechte_df$anzahl == 20]</code> und <code>fruechte_df$frucht[fruechte_df$anzahl &lt; 20]</code> sehen auf den ersten Blick unübersichtlich aus, aber hier passiert im Grunde genau dasselbe, was wir bereits vom bedingten Zugriff auf Vektoren kennen: Zunächst wird der Ausdruck in den eckigen Klammern ausgewertet. Da jede Spalte in einem Dataframe ein Vektor ist, wird dabei der Mechanismus der Vektorisierung aktiviert und der Ausdruck wird zu einem logischen Vektor aus Wahrheitswerten evaluiert. In diesem Vektor steht <code>TRUE</code>, wenn ein Element in der Spalte <code>fruechte_df$anzahl</code> genau 20 bzw. kleiner als 20 ist, und <code>FALSE</code> sonst. Mit der Zugriffsoperation <code>fruechte_df$frucht[]</code> wird dann auf alle Elemente in der Spalte <code>frucht</code> zugegriffen, für die in der Spalte <code>anzahl</code> in derselben Zeile ein Wert genau 20 bzw. kleiner 20 steht.</p>
<p>Da die Spalten eines Dataframes Vektoren sind, können auf die Spalten alle Operationen angewandt werden, die auch auf Vektoren angewandt werden können, zum Beispiel:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="r-basics-ii-datenstrukturen.html#cb195-1" tabindex="-1"></a>fruechte_df<span class="sc">$</span>anzahl <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>#&gt; [1]  0  0  0 15 60 96</code></pre>
<p>Dataframes können auch kombiniert werden. Wir haben ja bereits beim Erstellen von Matrizen aus bereits existierenden Vektoren die Funktionen <code>rbind()</code> und <code>cbind()</code> verwendet.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="r-basics-ii-datenstrukturen.html#cb197-1" tabindex="-1"></a>neue_fruechte <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">frucht =</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Zitrone&quot;</span>, <span class="st">&quot;Mango&quot;</span>),</span>
<span id="cb197-2"><a href="r-basics-ii-datenstrukturen.html#cb197-2" tabindex="-1"></a>                            <span class="at">anzahl =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">15</span>, <span class="dv">0</span>),</span>
<span id="cb197-3"><a href="r-basics-ii-datenstrukturen.html#cb197-3" tabindex="-1"></a>                            <span class="at">vorraetig =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb197-4"><a href="r-basics-ii-datenstrukturen.html#cb197-4" tabindex="-1"></a>                 )</span>
<span id="cb197-5"><a href="r-basics-ii-datenstrukturen.html#cb197-5" tabindex="-1"></a></span>
<span id="cb197-6"><a href="r-basics-ii-datenstrukturen.html#cb197-6" tabindex="-1"></a><span class="co"># Dataframes zeilenweise kombinieren</span></span>
<span id="cb197-7"><a href="r-basics-ii-datenstrukturen.html#cb197-7" tabindex="-1"></a><span class="fu">rbind</span>(fruechte_df, neue_fruechte)</span></code></pre></div>
<pre><code>#&gt;     frucht anzahl vorraetig
#&gt; 1    Birne      0     FALSE
#&gt; 2   Orange      0     FALSE
#&gt; 3   Banane      0     FALSE
#&gt; 4     Kiwi      5      TRUE
#&gt; 5    Apfel     20      TRUE
#&gt; 6 Erdbeere     32      TRUE
#&gt; 7    Apfel     20      TRUE
#&gt; 8  Zitrone     15      TRUE
#&gt; 9    Mango      0     FALSE</code></pre>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="r-basics-ii-datenstrukturen.html#cb199-1" tabindex="-1"></a><span class="co"># Dataframes spaltenweise kombinieren</span></span>
<span id="cb199-2"><a href="r-basics-ii-datenstrukturen.html#cb199-2" tabindex="-1"></a><span class="fu">cbind</span>(fruechte_df, neue_fruechte)</span></code></pre></div>
<pre><code>#&gt;     frucht anzahl vorraetig  frucht anzahl vorraetig
#&gt; 1    Birne      0     FALSE   Apfel     20      TRUE
#&gt; 2   Orange      0     FALSE Zitrone     15      TRUE
#&gt; 3   Banane      0     FALSE   Mango      0     FALSE
#&gt; 4     Kiwi      5      TRUE   Apfel     20      TRUE
#&gt; 5    Apfel     20      TRUE Zitrone     15      TRUE
#&gt; 6 Erdbeere     32      TRUE   Mango      0     FALSE</code></pre>
<p>Beachtet, dass beim Zusammenfügen der beiden Dataframes Duplikate entstehen: In dem neuen Dataframe, der mit <code>rbind()</code> erstellt wurde, gibt es zweimal “Apfel”, obwohl sich alle Werte in der Zeile wiederholen. In dem neuen Dataframe, der mit <code>cbind()</code> erstellt wurde, wiederholen sich sogar die Spalten und alle Elemente im Dataframe <code>df_2</code> werden noch einmal dupliziert. Das hat den Grund, dass <code>cbind()</code> nur Dataframes mit derselben Anzahl an Zeilen zusammenfügen kann.</p>
<p>Um zwei Dataframes so zusammenzufügen, dass gleiche Zeilen nicht dupliziert werden und nur die neuen Zeilen und Spalten hinzugefügt werden, kann die Funktion <code>merge()</code> verwendet werden.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="r-basics-ii-datenstrukturen.html#cb201-1" tabindex="-1"></a><span class="co"># Dataframes kombinieren und dabei gleiche Spalten zusammenfügen</span></span>
<span id="cb201-2"><a href="r-basics-ii-datenstrukturen.html#cb201-2" tabindex="-1"></a>neue_fruechte <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">frucht =</span> <span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Zitrone&quot;</span>, <span class="st">&quot;Mango&quot;</span>),</span>
<span id="cb201-3"><a href="r-basics-ii-datenstrukturen.html#cb201-3" tabindex="-1"></a>                            <span class="at">anzahl =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">15</span>, <span class="dv">0</span>),</span>
<span id="cb201-4"><a href="r-basics-ii-datenstrukturen.html#cb201-4" tabindex="-1"></a>                            <span class="at">vorraetig =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>), </span>
<span id="cb201-5"><a href="r-basics-ii-datenstrukturen.html#cb201-5" tabindex="-1"></a>                            <span class="at">preis =</span> <span class="fu">c</span>(<span class="fl">2.49</span>, <span class="fl">1.49</span>, .<span class="dv">99</span>)</span>
<span id="cb201-6"><a href="r-basics-ii-datenstrukturen.html#cb201-6" tabindex="-1"></a>                 )</span>
<span id="cb201-7"><a href="r-basics-ii-datenstrukturen.html#cb201-7" tabindex="-1"></a><span class="fu">merge</span>(fruechte_df, neue_fruechte, <span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;frucht&quot;</span>,<span class="st">&quot;anzahl&quot;</span>, <span class="st">&quot;vorraetig&quot;</span>), <span class="at">all =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>#&gt;     frucht anzahl vorraetig preis
#&gt; 1    Apfel     20      TRUE  2.49
#&gt; 2   Banane      0     FALSE    NA
#&gt; 3    Birne      0     FALSE    NA
#&gt; 4 Erdbeere     32      TRUE    NA
#&gt; 5     Kiwi      5      TRUE    NA
#&gt; 6    Mango      0     FALSE  0.99
#&gt; 7   Orange      0     FALSE    NA
#&gt; 8  Zitrone     15      TRUE  1.49</code></pre>
<p>Im Laufe des Semesters werden wir einige weitere Möglichkeiten kennenlernen, wie Dataframes transformiert und kombiniert werden können.</p>
<div class="task">
<p>Verständnisfragen:</p>
<ul>
<li>Was gilt für alle Spalten eines Dataframes?</li>
<li>Welchen Datentyp haben die Werte in der neuen Spalte <code>vorraetig</code>?</li>
<li>Was passiert, wenn Werte beim Erstellen eines Dataframes fehlen? Löscht einen Wert und probiert es aus.</li>
<li>Verwendet die Funktion <code>View()</code> um euch einen der Dataframes genauer anzusehen. Was passiert?</li>
</ul>
</div>
</div>
</div>
<div id="auf-einen-blick-matrizen-vs-arrays-vs-dataframes" class="section level2 hasAnchor" number="2.8">
<h2><span class="header-section-number">2.8</span> Auf einen Blick: Matrizen vs Arrays vs Dataframes<a href="r-basics-ii-datenstrukturen.html#auf-einen-blick-matrizen-vs-arrays-vs-dataframes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In diesem Abschnitt werden die Unterschiede zwischen Matrizen, Arrays und Dataframes anhand eines Beispiels illustriert. Das Beispiel illustriert, wie Daten zu Temperaturmessungen in drei verschiedenen Städten an drei Tageszeiten mithilfe der verschiedenen Datenstrukturen organisiert werden können.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="r-basics-ii-datenstrukturen.html#cb203-1" tabindex="-1"></a><span class="co"># Array: Ein dreidimensionales Modell zur Speicherung von Temperaturdaten über eine Woche, gemessen zu verschiedenen Tageszeiten in verschiedenen Städten.</span></span>
<span id="cb203-2"><a href="r-basics-ii-datenstrukturen.html#cb203-2" tabindex="-1"></a><span class="co"># Ein 3x7x3 Array erstellen für 3 Städte, 7 Tage und 3 Tageszeiten</span></span>
<span id="cb203-3"><a href="r-basics-ii-datenstrukturen.html#cb203-3" tabindex="-1"></a>temperature_array <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="fu">sample</span>(<span class="dv">10</span><span class="sc">:</span><span class="dv">30</span>, <span class="dv">63</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>), <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">3</span>))</span>
<span id="cb203-4"><a href="r-basics-ii-datenstrukturen.html#cb203-4" tabindex="-1"></a><span class="fu">dimnames</span>(temperature_array) <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb203-5"><a href="r-basics-ii-datenstrukturen.html#cb203-5" tabindex="-1"></a>  <span class="at">Stadt =</span> <span class="fu">c</span>(<span class="st">&quot;Berlin&quot;</span>, <span class="st">&quot;Hamburg&quot;</span>, <span class="st">&quot;München&quot;</span>),</span>
<span id="cb203-6"><a href="r-basics-ii-datenstrukturen.html#cb203-6" tabindex="-1"></a>  <span class="at">Tag =</span> <span class="fu">c</span>(<span class="st">&quot;Mo&quot;</span>, <span class="st">&quot;Di&quot;</span>, <span class="st">&quot;Mi&quot;</span>, <span class="st">&quot;Do&quot;</span>, <span class="st">&quot;Fr&quot;</span>, <span class="st">&quot;Sa&quot;</span>, <span class="st">&quot;So&quot;</span>),</span>
<span id="cb203-7"><a href="r-basics-ii-datenstrukturen.html#cb203-7" tabindex="-1"></a>  <span class="at">Zeit =</span> <span class="fu">c</span>(<span class="st">&quot;Morgen&quot;</span>, <span class="st">&quot;Mittag&quot;</span>, <span class="st">&quot;Abend&quot;</span>)</span>
<span id="cb203-8"><a href="r-basics-ii-datenstrukturen.html#cb203-8" tabindex="-1"></a>)</span>
<span id="cb203-9"><a href="r-basics-ii-datenstrukturen.html#cb203-9" tabindex="-1"></a><span class="fu">print</span>(temperature_array[,<span class="st">&quot;Mo&quot;</span>, <span class="st">&quot;Morgen&quot;</span>]) </span></code></pre></div>
<pre><code>#&gt;  Berlin Hamburg München 
#&gt;      30      15      19</code></pre>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="r-basics-ii-datenstrukturen.html#cb205-1" tabindex="-1"></a><span class="fu">print</span>(temperature_array)</span></code></pre></div>
<pre><code>#&gt; , , Zeit = Morgen
#&gt; 
#&gt;          Tag
#&gt; Stadt     Mo Di Mi Do Fr Sa So
#&gt;   Berlin  30 13 18 20 19 27 19
#&gt;   Hamburg 15 21 24 23 12 24 21
#&gt;   München 19 23 20 14 12 16 25
#&gt; 
#&gt; , , Zeit = Mittag
#&gt; 
#&gt;          Tag
#&gt; Stadt     Mo Di Mi Do Fr Sa So
#&gt;   Berlin  11 14 20 20 19 16 30
#&gt;   Hamburg 26 29 22 23 30 18 11
#&gt;   München 13 15 24 27 25 29 30
#&gt; 
#&gt; , , Zeit = Abend
#&gt; 
#&gt;          Tag
#&gt; Stadt     Mo Di Mi Do Fr Sa So
#&gt;   Berlin  23 16 24 15 13 28 24
#&gt;   Hamburg 24 11 22 15 23 16 19
#&gt;   München 25 13 18 12 26 13 25</code></pre>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="r-basics-ii-datenstrukturen.html#cb207-1" tabindex="-1"></a><span class="co"># Matrix: Die Temperaturmessungen für alle Städte über eine Woche zu einer bestimmten Tageszeit.</span></span>
<span id="cb207-2"><a href="r-basics-ii-datenstrukturen.html#cb207-2" tabindex="-1"></a>morning_temp_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(temperature_array[ , , <span class="st">&quot;Morgen&quot;</span>], <span class="at">nrow =</span> <span class="dv">7</span>)</span>
<span id="cb207-3"><a href="r-basics-ii-datenstrukturen.html#cb207-3" tabindex="-1"></a><span class="fu">rownames</span>(morning_temp_matrix) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Mo&quot;</span>, <span class="st">&quot;Di&quot;</span>, <span class="st">&quot;Mi&quot;</span>, <span class="st">&quot;Do&quot;</span>, <span class="st">&quot;Fr&quot;</span>, <span class="st">&quot;Sa&quot;</span>, <span class="st">&quot;So&quot;</span>)</span>
<span id="cb207-4"><a href="r-basics-ii-datenstrukturen.html#cb207-4" tabindex="-1"></a><span class="fu">colnames</span>(morning_temp_matrix) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Berlin&quot;</span>, <span class="st">&quot;Hamburg&quot;</span>, <span class="st">&quot;München&quot;</span>)</span>
<span id="cb207-5"><a href="r-basics-ii-datenstrukturen.html#cb207-5" tabindex="-1"></a><span class="fu">print</span>(morning_temp_matrix)</span></code></pre></div>
<pre><code>#&gt;    Berlin Hamburg München
#&gt; Mo     30      24      12
#&gt; Di     15      20      27
#&gt; Mi     19      20      24
#&gt; Do     13      23      16
#&gt; Fr     21      14      19
#&gt; Sa     23      19      21
#&gt; So     18      12      25</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="r-basics-ii-datenstrukturen.html#cb209-1" tabindex="-1"></a><span class="co"># Dataframe: Die Temperaturmessungen für alle Städte über eine Woche zu einer bestimmten Tageszeit.</span></span>
<span id="cb209-2"><a href="r-basics-ii-datenstrukturen.html#cb209-2" tabindex="-1"></a>morning_temp_dataframe <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb209-3"><a href="r-basics-ii-datenstrukturen.html#cb209-3" tabindex="-1"></a>  <span class="at">Berlin =</span> temperature_array[<span class="st">&quot;Berlin&quot;</span>, , <span class="st">&quot;Morgen&quot;</span>],</span>
<span id="cb209-4"><a href="r-basics-ii-datenstrukturen.html#cb209-4" tabindex="-1"></a>  <span class="at">Hamburg =</span> temperature_array[<span class="st">&quot;Hamburg&quot;</span>, , <span class="st">&quot;Morgen&quot;</span>],</span>
<span id="cb209-5"><a href="r-basics-ii-datenstrukturen.html#cb209-5" tabindex="-1"></a>  München <span class="ot">=</span> temperature_array[<span class="st">&quot;München&quot;</span>, , <span class="st">&quot;Morgen&quot;</span>]</span>
<span id="cb209-6"><a href="r-basics-ii-datenstrukturen.html#cb209-6" tabindex="-1"></a>)</span>
<span id="cb209-7"><a href="r-basics-ii-datenstrukturen.html#cb209-7" tabindex="-1"></a><span class="fu">print</span>(morning_temp_dataframe) </span></code></pre></div>
<pre><code>#&gt;    Berlin Hamburg München
#&gt; Mo     30      15      19
#&gt; Di     13      21      23
#&gt; Mi     18      24      20
#&gt; Do     20      23      14
#&gt; Fr     19      12      12
#&gt; Sa     27      24      16
#&gt; So     19      21      25</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="r-basics-ii-datenstrukturen.html#cb211-1" tabindex="-1"></a><span class="co"># Der Dataframe sieht auf den ersten Blick genauso aus wie die Matrix. </span></span>
<span id="cb211-2"><a href="r-basics-ii-datenstrukturen.html#cb211-2" tabindex="-1"></a><span class="co"># Ein Dataframe kann aber zusätzliche Metadaten und Werte eines anderen Datentyps enthalten:</span></span>
<span id="cb211-3"><a href="r-basics-ii-datenstrukturen.html#cb211-3" tabindex="-1"></a>morning_temp_dataframe<span class="sc">$</span>Zeit <span class="ot">&lt;-</span> <span class="st">&quot;Morgen&quot;</span></span>
<span id="cb211-4"><a href="r-basics-ii-datenstrukturen.html#cb211-4" tabindex="-1"></a>morning_temp_dataframe<span class="sc">$</span>Skala <span class="ot">&lt;-</span> <span class="st">&quot;Celsius&quot;</span></span>
<span id="cb211-5"><a href="r-basics-ii-datenstrukturen.html#cb211-5" tabindex="-1"></a><span class="fu">print</span>(morning_temp_dataframe)</span></code></pre></div>
<pre><code>#&gt;    Berlin Hamburg München   Zeit   Skala
#&gt; Mo     30      15      19 Morgen Celsius
#&gt; Di     13      21      23 Morgen Celsius
#&gt; Mi     18      24      20 Morgen Celsius
#&gt; Do     20      23      14 Morgen Celsius
#&gt; Fr     19      12      12 Morgen Celsius
#&gt; Sa     27      24      16 Morgen Celsius
#&gt; So     19      21      25 Morgen Celsius</code></pre>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="r-basics-ii-datenstrukturen.html#cb213-1" tabindex="-1"></a><span class="co"># Wenn wir dasselbe mit der Matrix versuchen, bekommen wir dagegen eine Warnmeldung, und einen wenig sinnvollen Output: </span></span>
<span id="cb213-2"><a href="r-basics-ii-datenstrukturen.html#cb213-2" tabindex="-1"></a>morning_temp_matrix<span class="sc">$</span>Zeit <span class="ot">&lt;-</span> <span class="st">&quot;Morgen&quot;</span></span></code></pre></div>
<pre><code>#&gt; Warning in morning_temp_matrix$Zeit &lt;- &quot;Morgen&quot;: Coercing LHS to a list</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="r-basics-ii-datenstrukturen.html#cb215-1" tabindex="-1"></a><span class="co"># Auf die Werte in einem Dataframe können auch komplexere Operationen angewandt werden, und die Ergebnisse der Opterationen kann direkt im Dataframe gespeichert werden.</span></span>
<span id="cb215-2"><a href="r-basics-ii-datenstrukturen.html#cb215-2" tabindex="-1"></a><span class="co"># Wir können zum Beispiel das Maximum für jeden Tag berechenen und eine neue Spalte &quot;Maximum&quot; für diesen Wert übertragen </span></span>
<span id="cb215-3"><a href="r-basics-ii-datenstrukturen.html#cb215-3" tabindex="-1"></a>morning_temp_dataframe<span class="sc">$</span>Maximum <span class="ot">&lt;-</span> <span class="fu">pmax</span>(morning_temp_dataframe<span class="sc">$</span>Berlin, morning_temp_dataframe<span class="sc">$</span>Hamburg, morning_temp_dataframe<span class="sc">$</span>München)</span>
<span id="cb215-4"><a href="r-basics-ii-datenstrukturen.html#cb215-4" tabindex="-1"></a>morning_temp_dataframe</span></code></pre></div>
<pre><code>#&gt;    Berlin Hamburg München   Zeit   Skala Maximum
#&gt; Mo     30      15      19 Morgen Celsius      30
#&gt; Di     13      21      23 Morgen Celsius      23
#&gt; Mi     18      24      20 Morgen Celsius      24
#&gt; Do     20      23      14 Morgen Celsius      23
#&gt; Fr     19      12      12 Morgen Celsius      19
#&gt; Sa     27      24      16 Morgen Celsius      27
#&gt; So     19      21      25 Morgen Celsius      25</code></pre>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="r-basics-ii-datenstrukturen.html#cb217-1" tabindex="-1"></a><span class="co"># Wir könnten auch die Werte in Fahrenheit umwandeln </span></span>
<span id="cb217-2"><a href="r-basics-ii-datenstrukturen.html#cb217-2" tabindex="-1"></a>morning_temp_dataframe<span class="sc">$</span>Maximum <span class="ot">&lt;-</span> morning_temp_dataframe<span class="sc">$</span>Maximum <span class="sc">*</span> <span class="dv">9</span><span class="sc">/</span><span class="dv">5</span> <span class="sc">+</span> <span class="dv">32</span></span>
<span id="cb217-3"><a href="r-basics-ii-datenstrukturen.html#cb217-3" tabindex="-1"></a>morning_temp_dataframe</span></code></pre></div>
<pre><code>#&gt;    Berlin Hamburg München   Zeit   Skala Maximum
#&gt; Mo     30      15      19 Morgen Celsius    86.0
#&gt; Di     13      21      23 Morgen Celsius    73.4
#&gt; Mi     18      24      20 Morgen Celsius    75.2
#&gt; Do     20      23      14 Morgen Celsius    73.4
#&gt; Fr     19      12      12 Morgen Celsius    66.2
#&gt; Sa     27      24      16 Morgen Celsius    80.6
#&gt; So     19      21      25 Morgen Celsius    77.0</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="r-basics-ii-datenstrukturen.html#cb219-1" tabindex="-1"></a><span class="co">#... und anschließend die Spalte umbenennen </span></span>
<span id="cb219-2"><a href="r-basics-ii-datenstrukturen.html#cb219-2" tabindex="-1"></a>morning_temp_dataframe<span class="sc">$</span>Maximum_Fahrenheit <span class="ot">&lt;-</span> morning_temp_dataframe<span class="sc">$</span>Maximum</span>
<span id="cb219-3"><a href="r-basics-ii-datenstrukturen.html#cb219-3" tabindex="-1"></a>morning_temp_dataframe<span class="sc">$</span>Maximum <span class="ot">&lt;-</span> <span class="cn">NULL</span>  <span class="co"># entfernt die ursprüngliche &quot;Maximum&quot; Spalte</span></span>
<span id="cb219-4"><a href="r-basics-ii-datenstrukturen.html#cb219-4" tabindex="-1"></a>morning_temp_dataframe</span></code></pre></div>
<pre><code>#&gt;    Berlin Hamburg München   Zeit   Skala Maximum_Fahrenheit
#&gt; Mo     30      15      19 Morgen Celsius               86.0
#&gt; Di     13      21      23 Morgen Celsius               73.4
#&gt; Mi     18      24      20 Morgen Celsius               75.2
#&gt; Do     20      23      14 Morgen Celsius               73.4
#&gt; Fr     19      12      12 Morgen Celsius               66.2
#&gt; Sa     27      24      16 Morgen Celsius               80.6
#&gt; So     19      21      25 Morgen Celsius               77.0</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="r-basics-ii-datenstrukturen.html#cb221-1" tabindex="-1"></a><span class="co"># Zur Datenmanipulation werden wir deswegen meist mit Dataframes zu tun haben. </span></span></code></pre></div>
</div>
<div id="datenstrukturen-untersuchen" class="section level2 hasAnchor" number="2.9">
<h2><span class="header-section-number">2.9</span> Datenstrukturen untersuchen<a href="r-basics-ii-datenstrukturen.html#datenstrukturen-untersuchen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Jetzt haben wir schon ganz schön viele verschiedene Datenstrukturen kennengelernt, da kommt man durcheinander. Letzte Woche haben wir bereits die <code>typeof()</code>-Funktion kennengelernt, um den Datentyp eines Werts herauszufinden. Wenn die Funktion <code>typeof()</code> auf Datenstrukturen angewandt wird, gibt die Funktion Auskunft darüber, wie die Datenstruktur im Speicher abgebildet wird. Ein Dataframe wird im Speicher zum Beispiel immer als Liste repräsentiert:</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="r-basics-ii-datenstrukturen.html#cb222-1" tabindex="-1"></a><span class="fu">typeof</span>(morning_temp_dataframe)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;list&quot;</code></pre>
<p>Aber wir haben bereits gesehen, dass sich ein Dataframe von einer einfachen Liste unterscheidet. Die Spalten in einem Dataframe müssen immer dieselbe Länge haben und auf Dataframes können andere Funktionen angewandt werden als auf Listen. Um Informationen über die Datenstruktur eines Objekts auf höherer Ebene zu erhalten, kann die Funktion <code>class()</code> verwendet werden:</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="r-basics-ii-datenstrukturen.html#cb224-1" tabindex="-1"></a><span class="fu">class</span>(morning_temp_dataframe)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;data.frame&quot;</code></pre>
<p>Neben <code>typeof()</code> und <code>class()</code> gibt es noch eine dritte Funktion, mit der die Datenstruktur eines Objekts untersucht werden kann. Die Funktion <code>str()</code> gibt Auskunft über die interne Struktur des Objekts:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="r-basics-ii-datenstrukturen.html#cb226-1" tabindex="-1"></a><span class="fu">str</span>(morning_temp_dataframe)</span></code></pre></div>
<pre><code>#&gt; &#39;data.frame&#39;:    7 obs. of  6 variables:
#&gt;  $ Berlin            : int  30 13 18 20 19 27 19
#&gt;  $ Hamburg           : int  15 21 24 23 12 24 21
#&gt;  $ München           : int  19 23 20 14 12 16 25
#&gt;  $ Zeit              : chr  &quot;Morgen&quot; &quot;Morgen&quot; &quot;Morgen&quot; &quot;Morgen&quot; ...
#&gt;  $ Skala             : chr  &quot;Celsius&quot; &quot;Celsius&quot; &quot;Celsius&quot; &quot;Celsius&quot; ...
#&gt;  $ Maximum_Fahrenheit: num  86 73.4 75.2 73.4 66.2 80.6 77</code></pre>
<p>Die Funktion <code>typeof()</code> kann natürlich auch auf einzelne Elemente in einer Datenstruktur angewandt werden:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="r-basics-ii-datenstrukturen.html#cb228-1" tabindex="-1"></a><span class="co"># Jedes Element hat in einer Matrix hat den Datentyp character</span></span>
<span id="cb228-2"><a href="r-basics-ii-datenstrukturen.html#cb228-2" tabindex="-1"></a><span class="fu">typeof</span>(fruechte_einkauf[<span class="dv">1</span>,<span class="dv">1</span>]) <span class="co"># character</span></span></code></pre></div>
<pre><code>#&gt; [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="r-basics-ii-datenstrukturen.html#cb230-1" tabindex="-1"></a><span class="co"># Jede Spalte in einem Dataframe ist ein Vektor</span></span>
<span id="cb230-2"><a href="r-basics-ii-datenstrukturen.html#cb230-2" tabindex="-1"></a><span class="fu">typeof</span>(morning_temp_dataframe[<span class="dv">3</span>,])</span></code></pre></div>
<pre><code>#&gt; [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="r-basics-ii-datenstrukturen.html#cb232-1" tabindex="-1"></a><span class="co"># Jede Zeile in einem Dataframe ist eine Liste</span></span>
<span id="cb232-2"><a href="r-basics-ii-datenstrukturen.html#cb232-2" tabindex="-1"></a><span class="fu">typeof</span>(morning_temp_dataframe[,<span class="dv">3</span>])</span></code></pre></div>
<pre><code>#&gt; [1] &quot;integer&quot;</code></pre>
<p>Zuletzt gibt es eine Reihe hilfreicher Funktionen, mit denen Datenstrukturen auf bestimmte Aspekte hin untersucht werden können. <code>length()</code> liefert die Anzahl der Elemente in einer Datenstruktur; <code>nchar()</code> gibt die Anzahl der Zeichen in einer Zeichenkette aus. <code>ncol()</code> und <code>nrow()</code> geben Auskunft über die Anzahl an Spalten und Zeilen in einer Datenstruktur und die bereits bekannte Funktion <code>dim()</code> liefert die Dimension. Für Datenstrukturen mit numerischen Werten kann zusätzlich auch das Minimum, das Maximum oder statistische Maße wie der Median oder das arithmetische Mittel bestimmt werden, und zwar mit den Funktionen <code>min()</code>, <code>max()</code>, <code>median()</code>, <code>mean()</code>.</p>
<div class="task">
<p>Verständnisfragen:</p>
<p>Untersucht die Datenstrukturen aus diesem Kapitel mithilfe der Funktionen <code>typeof()</code>, <code>class()</code>, <code>length()</code>, <code>nchar()</code>, <code>ncol()</code>, <code>nrow()</code> und <code>dim()</code>.</p>
<ul>
<li>Was für ein Wert wird ausgegeben, wenn <code>length()</code> auf einen Dataframe angewendet wird?</li>
<li>Wie hängen <code>ncol()</code>, <code>nrow()</code> und <code>dim()</code> zusammen?</li>
<li>Haben Dataframes auch eine Dimension? Ruft mit <code>?dim</code> die Dokumentation zur Funktion <code>dim()</code> auf und lest es nach.</li>
</ul>
</div>
</div>
<div id="fehlende-und-ungültige-werte-in-datenstrukturen" class="section level2 hasAnchor" number="2.10">
<h2><span class="header-section-number">2.10</span> Fehlende und ungültige Werte in Datenstrukturen<a href="#fehlende-und-ung%C3%BCltige-werte-in-datenstrukturen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Bei der Arbeit mit Daten in R kommt es immer mal vor, dass Werte fehlen oder ungültig sind. In R gibt es spezielle Objekte, die in diesem Fall eingesetzt werden.</p>
<p>Der Wert <code>NULL</code> wird eingesetzt, um die Nicht-Existenz von Daten zu signalisieren. Das haben wir gesehen, als wir mithilfe der Funktion <code>c()</code> einen leeren Vektor erstellt haben. <code>NULL</code> wird außerdem dazu verwendet, um Werte aus Listen oder Dataframes zu entfernen. Wir haben dieses Objekt beispielsweise verwendet, um die Spalte <code>Maximum</code> aus dem Dataframe <code>morning_temp_dataframe</code> zu entfernen.</p>
<p>Daneben gibt es <code>NA</code>, was für Not Available oder “nicht verfügbar” steht und verwendet wird, um das Fehlen von erwarteten Werten in Datenstrukturen zu markieren. Dieser Wert kommt typischerweise in Dataframes zur Anwendung, wenn zu einigen Beobachtungen bestimmte Werte fehlen, zum Beispiel das Alter einer Person in einem Dataframe, der Daten zu verschiedenen Personen enthält.</p>
<p>Zuletzt gibt es den Wert <code>NaN</code>, welcher für Not a Number oder “keine Zahl” steht und signalisiert, dass das Ergebnis einer Berechnung eine undefinierte Zahl ist oder eine Zahl, die nicht repräsentiert werden kann. Ein Beispiel ist das Ergebnis der Operation <code>0/0</code>.</p>
</div>
<div id="der-mitgliedschaftsoperator-in" class="section level2 hasAnchor" number="2.11">
<h2><span class="header-section-number">2.11</span> Der Mitgliedschaftsoperator %in%<a href="r-basics-ii-datenstrukturen.html#der-mitgliedschaftsoperator-in" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Am Anfang haben wir Datenstrukturen als strukturierte Sammlungen von Werten (oder anderen Objekten) definiert. Um schnell herauszufinden, ob sich ein Wert in einer Datenstruktur befindet, kann ein spezieller Operator verwendet werden: der sogenannte Migliedschaftsoperator <code>%in%</code>. Dieser Operator wird auf Vektoren angewendet: Entweder auf einzelne Vektoren oder auf Vektoren innerhalb einer anderen Datenstruktur, also zum Beispiel auf die Spalten eines Dataframes oder Listenelemente, die Vektoren sind.</p>
<p>Ein paar Beispiele:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="r-basics-ii-datenstrukturen.html#cb234-1" tabindex="-1"></a>buchstaben <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;g&quot;</span>)</span>
<span id="cb234-2"><a href="r-basics-ii-datenstrukturen.html#cb234-2" tabindex="-1"></a><span class="st">&quot;a&quot;</span> <span class="sc">%in%</span> buchstaben</span></code></pre></div>
<pre><code>#&gt; [1] TRUE</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="r-basics-ii-datenstrukturen.html#cb236-1" tabindex="-1"></a><span class="co"># Es kann auch direkt nach der Mitgliedschaft mehrerer Elemente gefragt werden:</span></span>
<span id="cb236-2"><a href="r-basics-ii-datenstrukturen.html#cb236-2" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;b&quot;</span>)  <span class="sc">%in%</span> buchstaben</span></code></pre></div>
<pre><code>#&gt; [1] TRUE TRUE TRUE</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="r-basics-ii-datenstrukturen.html#cb238-1" tabindex="-1"></a><span class="co"># Mitgliedschaftsoperator auf Elemente einer Liste anwenden</span></span>
<span id="cb238-2"><a href="r-basics-ii-datenstrukturen.html#cb238-2" tabindex="-1"></a>obstpreise <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">obst=</span><span class="fu">c</span>(<span class="st">&quot;Apfel&quot;</span>, <span class="st">&quot;Banane&quot;</span>, <span class="st">&quot;Orange&quot;</span>),</span>
<span id="cb238-3"><a href="r-basics-ii-datenstrukturen.html#cb238-3" tabindex="-1"></a>                   <span class="at">preise=</span><span class="fu">c</span>(<span class="fl">2.45</span>, <span class="fl">2.99</span>, <span class="fl">1.99</span>))</span>
<span id="cb238-4"><a href="r-basics-ii-datenstrukturen.html#cb238-4" tabindex="-1"></a><span class="st">&quot;Orange&quot;</span> <span class="sc">%in%</span> obstpreise<span class="sc">$</span>obst</span></code></pre></div>
<pre><code>#&gt; [1] TRUE</code></pre>
</div>
<div id="unveränderbarkeit-von-objekten-in-r" class="section level2 hasAnchor" number="2.12">
<h2><span class="header-section-number">2.12</span> Unveränderbarkeit von Objekten in R<a href="#unver%C3%A4nderbarkeit-von-objekten-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Wir haben in der vergangenen Woche besprochen, dass bei der Zuweisung einer Variable ein Wert zugeordnet wird, indem ein Name festgelegt wird, der fortan für diesen Wert und für den Speicherplatz, in dem er gespeichert ist, steht. Der Name ist also sowas wie eine Referenz zu diesem Wert. Aber was passiert eigentlich, wenn der Wert im Programmverlauf verändert wird?</p>
<p>Dieser Frage gehen wir an einem Beispiel nach. Wir weisen zunächst einer Variable x einen Vektor c(1, 2, 3) als Wert zu:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="r-basics-ii-datenstrukturen.html#cb240-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span></code></pre></div>
<p>Die folgende Grafik aus dem Buch “Advanced R” von Hadley Wickham illustriert, was bei der Zuweisungsoperation passiert:</p>
<p><img src="images/binding-1.png" width="200" /></p>
<p>Der Name <code>x</code> referenziert also nach der Zuweisung einen Vektor mit den Elementen 1, 2 und 3. Die graue Zahl <code>0x74b</code> steht für die Adresse des Speicherplatzes, der im Computer für das Objekt (den Vektor) “reserviert” ist.</p>
<p>Wenn die Variable <code>x</code> einer neuen Variable <code>y</code> zugewiesen wird, dann referenziert auch der Name <code>y</code> denselben Wert, es entsteht zunächst also keine Kopie des Werts <code>c(1, 2, 3)</code>:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="r-basics-ii-datenstrukturen.html#cb241-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> x</span></code></pre></div>
<p><img src="images/binding-2.png" width="212" /></p>
<p>Aber was passiert mit der Variable <code>x</code>, wenn die Variable <code>y</code> verändert wird? Oder, korrekter formuliert: Welchen Wert referenziert <code>x</code>, wenn mithilfe von <code>y</code> auf den der Wert <code>c(1, 2, 3)</code> zugegriffen und ein Element verändert wird?</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="r-basics-ii-datenstrukturen.html#cb242-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb242-2"><a href="r-basics-ii-datenstrukturen.html#cb242-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> x</span>
<span id="cb242-3"><a href="r-basics-ii-datenstrukturen.html#cb242-3" tabindex="-1"></a>y[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">4</span> </span>
<span id="cb242-4"><a href="r-basics-ii-datenstrukturen.html#cb242-4" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>#&gt; [1] 1 2 3</code></pre>
<p><code>y</code> wird zwar verändert, aber <code>x</code> nicht! Der Wert, der mit <code>y</code> verknüpft ist, wurde verändert, aber das ursprüngliche Objekt nicht. Stattdessen wurde ein neues Objekt erstellt, das eine Kopie des ursprünglichen Objekts mit dem veränderten Wert ist.</p>
<p><img src="images/binding-3.png" width="200" /></p>
<p>Dieses Verhalten liegt daran, dass R Objekte <strong>unveränderbar</strong>, oder auf Englisch <strong>immutable</strong> sind. Das bedeutet: Wenn wir in R den Wert einer Variable ändern wollen, z.B. x &lt;- x + 1, dann wird tatsächlich ein neues Objekt erstellt und x wird nun auf den neuen Speicherplatz, der den neuen Wert enthält, verwiesen. Der alte Speicherplatz wird freigegeben, wenn keine andere Variable darauf verweist.
Bei der Manipulation von Objekten sollte man also dieses Prinzip der Unveränderbarkeit (Immutability) im Hinterkopf behalten, denn hier unterscheidet sich R von anderen Programmiersprachen wie beispielsweise Python.</p>
<p>Diese Beispiele und alle Erklärungen auf Englisch könnt ihr auch nochmal im Kapitel “Binding basics” in Wickhams Lehrbuch “Advanced R” nachlesen. An diesem Punkt sollt ihr aber hauptsächlich das Prinzip der Unveränderbarkeit mal gehört haben; es ist nicht schlimm, wenn ihr den Vorgang nicht im Detail versteht.</p>
</div>
<div id="quellen-1" class="section level2 unnumbered hasAnchor">
<h2>Quellen<a href="r-basics-ii-datenstrukturen.html#quellen-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Venables, W.N. and Smith, D.M. and the R Core Team (2023). An Introduction to R, <a href="https://cran.r-project.org/doc/manuals/r-release/R-intro.pdf" class="uri">https://cran.r-project.org/doc/manuals/r-release/R-intro.pdf</a></li>
<li>Wickham, Hadley. The Tidyverse Style Guide, <a href="https://style.tidyverse.org/" class="uri">https://style.tidyverse.org/</a></li>
<li>Wickham, Hadley (2019). Advanced R. Chapter 4: Subsetting, <a href="https://adv-r.hadley.nz/subsetting.html" class="uri">https://adv-r.hadley.nz/subsetting.html</a></li>
<li>Wickham, Hadley (2019). Advanced R. Chapter 2: Names and Values, <a href="https://adv-r.hadley.nz/names-values.html" class="uri">https://adv-r.hadley.nz/names-values.html</a></li>
<li>Phillips, Nathaniel D. (2018). Matrices and Dataframes, <a href="https://bookdown.org/ndphillips/YaRrr/matricesdataframes.html" class="uri">https://bookdown.org/ndphillips/YaRrr/matricesdataframes.html</a></li>
<li>Phillips, Nathaniel D. (2018). Advanced Dataframe Manipulation, <a href="https://bookdown.org/ndphillips/YaRrr/advanceddataframe.html" class="uri">https://bookdown.org/ndphillips/YaRrr/advanceddataframe.html</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-basics-i-datentypen-variablen-und-operatoren.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"toc_depth": 4
});
});
</script>

</body>

</html>
